<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.0.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon2.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon2.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon2.png"><link rel="mask-icon" href="/images/favicon2.png" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"daydayup863.github.io",root:"/",scheme:"Pisces",version:"7.8.0",exturl:!1,sidebar:{position:"right",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!0,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!0,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"bounceIn",post_header:"slideDownIn",post_body:"perspectiveRightIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="此次测试主要用于对比生产环境下pg14比较pg11前版本带来的性能提升。"><meta property="og:type" content="article"><meta property="og:title" content="PostgreSQL 不同版本性能基准测试对比"><meta property="og:url" content="http://daydayup863.github.io/PostgreSQL/pgbench/PostgreSQL_%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%AC%E6%80%A7%E8%83%BD%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95%E5%AF%B9%E6%AF%94/index.html"><meta property="og:site_name" content="daydayup863"><meta property="og:description" content="此次测试主要用于对比生产环境下pg14比较pg11前版本带来的性能提升。"><meta property="og:locale"><meta property="og:image" content="http://daydayup863.github.io/images/PostgreSQL_不同版本性能基准测试对比.png"><meta property="article:published_time" content="2022-03-15T07:59:06.000Z"><meta property="article:modified_time" content="2022-03-15T09:11:06.369Z"><meta property="article:author" content="daydayup"><meta property="article:tag" content="PostgreSQL"><meta property="article:tag" content="pgbench"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://daydayup863.github.io/images/PostgreSQL_不同版本性能基准测试对比.png"><link rel="canonical" href="http://daydayup863.github.io/PostgreSQL/pgbench/PostgreSQL_%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%AC%E6%80%A7%E8%83%BD%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95%E5%AF%B9%E6%AF%94/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-Hans"}</script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.css"><style>#needsharebutton-float{bottom:88px;cursor:pointer;left:-8px;position:fixed;z-index:9999}#needsharebutton-float .btn{border:1px solid $btn-default-border-color;border-radius:4px;padding:0 10px 0 14px}</style><title>PostgreSQL 不同版本性能基准测试对比 | daydayup863</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><script type="text/javascript" src="/js/bubble.js"></script><link rel="alternate" href="/atom.xml" title="daydayup863" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><a target="_blank" rel="noopener" href="https://github.com/daydayup863"><img style="position:fixed;top:0;right:0" width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_gray_6d6d6d.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">daydayup863</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">人生就像一杯茶，不会苦一辈子，但总会苦一阵子。</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-messagepad"><a href="/messagepad/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>留言板</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans"><link itemprop="mainEntityOfPage" href="http://daydayup863.github.io/PostgreSQL/pgbench/PostgreSQL_%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%AC%E6%80%A7%E8%83%BD%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95%E5%AF%B9%E6%AF%94/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/user.jpg"><meta itemprop="name" content="daydayup"><meta itemprop="description" content="good good study, day day up."></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="daydayup863"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">PostgreSQL 不同版本性能基准测试对比</h1><div class="post-meta"><i class="fa fa-thumbtack"></i> <font color="7D26CD">置顶</font> <span class="post-meta-divider">|</span> <span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-03-15 15:59:06" itemprop="dateCreated datePublished" datetime="2022-03-15T15:59:06+08:00">2022-03-15</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/PostgreSQL/" itemprop="url" rel="index"><span itemprop="name">PostgreSQL</span></a> </span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/PostgreSQL/pgbench/" itemprop="url" rel="index"><span itemprop="name">pgbench</span></a> </span></span><span id="/PostgreSQL/pgbench/PostgreSQL_%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%AC%E6%80%A7%E8%83%BD%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95%E5%AF%B9%E6%AF%94/" class="post-meta-item leancloud_visitors" data-flag-title="PostgreSQL 不同版本性能基准测试对比" title="阅读次数"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/PostgreSQL/pgbench/PostgreSQL_%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%AC%E6%80%A7%E8%83%BD%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95%E5%AF%B9%E6%AF%94/#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/PostgreSQL/pgbench/PostgreSQL_%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%AC%E6%80%A7%E8%83%BD%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95%E5%AF%B9%E6%AF%94/" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>此次测试主要用于对比生产环境下pg14比较pg11前版本带来的性能提升。</p><a id="more"></a><h1 id="主要参数"><a href="#主要参数" class="headerlink" title="主要参数"></a>主要参数</h1><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">data_checksum</span> = <span class="hljs-literal">off</span><br><span class="hljs-attribute">wal_block_size</span> = <span class="hljs-number">65536</span><br><span class="hljs-attribute">block_size</span> = <span class="hljs-number">32768</span><br><br><span class="hljs-attribute">PG9</span>.<span class="hljs-number">1</span>，<span class="hljs-number">9</span>.<span class="hljs-number">2</span>,<span class="hljs-number">9</span>.<span class="hljs-number">3</span>,<span class="hljs-number">9</span>.<span class="hljs-number">4</span><br><br><span class="hljs-attribute">wal_log_hints</span> = <span class="hljs-literal">off</span>     ＝》去掉<br><span class="hljs-attribute">wal_level</span> = replica     ＝》wal_level = hot_standy<br><span class="hljs-attribute">max_wal_size</span> = <span class="hljs-number">64</span>GB     ＝》wal_keep_segments = <span class="hljs-number">4096</span><br><span class="hljs-attribute">wal_block_size</span> = <span class="hljs-number">65535</span>  ＝》wal_block_size = <span class="hljs-number">8192</span><br><span class="hljs-attribute">block_size</span> = <span class="hljs-number">32768</span>      ＝》block_size = <span class="hljs-number">8192</span><br><br><span class="hljs-attribute">PG10</span>+<br><br><span class="hljs-attribute">shared_buffers</span> = <span class="hljs-number">32</span>GB<br><span class="hljs-attribute">work_mem</span> = <span class="hljs-number">8</span>MB<br><span class="hljs-attribute">wal_level</span> = replica<br><span class="hljs-attribute">fsync</span> = <span class="hljs-literal">on</span><br><span class="hljs-attribute">synchronous_commit</span> = <span class="hljs-literal">off</span><br><span class="hljs-attribute">full_page_writes</span> = <span class="hljs-literal">off</span><br><span class="hljs-attribute">wal_log_hints</span> = <span class="hljs-literal">off</span><br><span class="hljs-attribute">commit_delay</span> = <span class="hljs-number">50</span><br><span class="hljs-attribute">commit_siblings</span> = <span class="hljs-number">16</span><br><span class="hljs-attribute">checkpoint_timeout</span> = <span class="hljs-number">60</span>min<br><span class="hljs-attribute">checkpoint_completion_target</span> = <span class="hljs-number">0</span>.<span class="hljs-number">9</span><br><span class="hljs-attribute">max_wal_size</span> = <span class="hljs-number">64</span>GB<br><span class="hljs-attribute">min_wal_size</span> = <span class="hljs-number">16</span>GB<br><span class="hljs-attribute">maintenance_work_mem</span> = <span class="hljs-number">4</span>GB<br><span class="hljs-attribute">vacuum_cost_delay</span> = <span class="hljs-number">0</span><br><span class="hljs-attribute">vacuum_cost_limit</span> = <span class="hljs-number">200</span><br><span class="hljs-attribute">max_locks_per_transaction</span> =<span class="hljs-number">256</span><br><span class="hljs-attribute">random_page_cost</span> = <span class="hljs-number">1</span>.<span class="hljs-number">5</span><br><span class="hljs-attribute">effective_cache_size</span> = <span class="hljs-number">64</span>GB<br><span class="hljs-attribute">bgwriter_delay</span> = <span class="hljs-number">400</span>ms<br><span class="hljs-attribute">log_checkpoints</span> = <span class="hljs-literal">off</span><br><span class="hljs-attribute">logging_collector</span> = <span class="hljs-literal">on</span><br><span class="hljs-attribute">listen_addresses</span> = &#x27;*&#x27;<br><span class="hljs-attribute">max_connections</span> = <span class="hljs-number">2000</span><br></code></pre></td></tr></table></figure><p>本次测试用于对比生产版本与新版本的性能比较，因此9.4之前的版本 wal_block_size, block_size 为默认值8K，保持与生产一致, 未作修改。</p><h1 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h1><p>新建数据库pgbench, 并使用最新版本pgbench初始化测试数据。</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">psql -c <span class="hljs-string">&quot;create database pgbench;&quot;</span><br>time <span class="hljs-regexp">/opt/</span>pg14<span class="hljs-regexp">/bin/</span>pgbench -i -s <span class="hljs-number">200</span> -p 版本<span class="hljs-number">32</span> -Upostgres pgbench<br></code></pre></td></tr></table></figure><h2 id="PG91-real-0m59-850s"><a href="#PG91-real-0m59-850s" class="headerlink" title="PG91 - real 0m59.850s"></a>PG91 - real 0m59.850s</h2><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs sas">[root@pgdb1 /export]# time /opt/pg14/bin/pgbench -i -s 200 -p 9132 -Upostgres pgbench<br>dropping old tables...<br>NOTICE: <span class="hljs-meta">table</span> <span class="hljs-string">&quot;pgbench_accounts&quot;</span> does <span class="hljs-meta">not</span> exist, skipping<br>NOTICE: <span class="hljs-meta">table</span> <span class="hljs-string">&quot;pgbench_branches&quot;</span> does <span class="hljs-meta">not</span> exist, skipping<br>NOTICE: <span class="hljs-meta">table</span> <span class="hljs-string">&quot;pgbench_history&quot;</span> does <span class="hljs-meta">not</span> exist, skipping<br>NOTICE: <span class="hljs-meta">table</span> <span class="hljs-string">&quot;pgbench_tellers&quot;</span> does <span class="hljs-meta">not</span> exist, skipping<br>creating tables...<br>generating data (client-side)...<br>20000000 of 20000000 tuples (100%) done (elapsed 41.49 s, remaining 0.00 s)<br>vacuuming...<br>creating <span class="hljs-meta">primary</span> keys...<br>NOTICE: <span class="hljs-meta">ALTER</span> <span class="hljs-meta">TABLE</span> / <span class="hljs-meta">ADD</span> <span class="hljs-meta">PRIMARY</span> <span class="hljs-meta">KEY</span> will <span class="hljs-meta">create</span> implicit <span class="hljs-meta">index</span> <span class="hljs-string">&quot;pgbench_branches_pkey&quot;</span> for <span class="hljs-meta">table</span> <span class="hljs-string">&quot;pgbench_branches&quot;</span><br>NOTICE: <span class="hljs-meta">ALTER</span> <span class="hljs-meta">TABLE</span> / <span class="hljs-meta">ADD</span> <span class="hljs-meta">PRIMARY</span> <span class="hljs-meta">KEY</span> will <span class="hljs-meta">create</span> implicit <span class="hljs-meta">index</span> <span class="hljs-string">&quot;pgbench_tellers_pkey&quot;</span> for <span class="hljs-meta">table</span> <span class="hljs-string">&quot;pgbench_tellers&quot;</span><br>NOTICE: <span class="hljs-meta">ALTER</span> <span class="hljs-meta">TABLE</span> / <span class="hljs-meta">ADD</span> <span class="hljs-meta">PRIMARY</span> <span class="hljs-meta">KEY</span> will <span class="hljs-meta">create</span> implicit <span class="hljs-meta">index</span> <span class="hljs-string">&quot;pgbench_accounts_pkey&quot;</span> for <span class="hljs-meta">table</span> <span class="hljs-string">&quot;pgbench_accounts&quot;</span><br>done <span class="hljs-meta">in</span> 59.84 s (<span class="hljs-meta">drop</span> tables 0.00 s, <span class="hljs-meta">create</span> tables 0.00 s, client-side generate 42.52 s, vacuum 5.77 s, <span class="hljs-meta">primary</span> keys 11.55 s).<br> <br>real 0m59.850s<br>user 0m6.360s<br>sys 0m0.122s<br></code></pre></td></tr></table></figure><h2 id="select-only"><a href="#select-only" class="headerlink" title="select-only"></a>select-only</h2><h3 id="100客户端"><a href="#100客户端" class="headerlink" title="100客户端"></a>100客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 100 -j 100 -M prepared -T30 -p 9132 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.1.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 113025.6 tps, lat 0.876 ms stddev 1.011<br><span class="hljs-keyword">progress: </span>6.0 s, 127864.7 tps, lat 0.782 ms stddev 0.886<br><span class="hljs-keyword">progress: </span>9.0 s, 130330.0 tps, lat 0.767 ms stddev 0.877<br><span class="hljs-keyword">progress: </span>12.0 s, 131203.3 tps, lat 0.762 ms stddev 0.871<br><span class="hljs-keyword">progress: </span>15.0 s, 132294.4 tps, lat 0.756 ms stddev 0.865<br><span class="hljs-keyword">progress: </span>18.0 s, 130449.6 tps, lat 0.766 ms stddev 0.893<br><span class="hljs-keyword">progress: </span>21.0 s, 131379.0 tps, lat 0.761 ms stddev 0.878<br><span class="hljs-keyword">progress: </span>24.0 s, 132768.0 tps, lat 0.753 ms stddev 0.875<br><span class="hljs-keyword">progress: </span>27.0 s, 132382.0 tps, lat 0.755 ms stddev 0.882<br><span class="hljs-keyword">progress: </span>30.0 s, 132263.8 tps, lat 0.755 ms stddev 0.871<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 100<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 3881957<br>latency average = 0.773 ms<br>latency stddev = 0.909 ms<br>initial connection time = 31.813 ms<br>tps = 129233.518233 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="200客户端"><a href="#200客户端" class="headerlink" title="200客户端"></a>200客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 200 -j 100 -M prepared -T30 -p 9132 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.1.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 112304.0 tps, lat 1.746 ms stddev 2.320<br><span class="hljs-keyword">progress: </span>6.0 s, 123221.7 tps, lat 1.623 ms stddev 2.060<br><span class="hljs-keyword">progress: </span>9.0 s, 124756.5 tps, lat 1.603 ms stddev 2.039<br><span class="hljs-keyword">progress: </span>12.0 s, 125614.6 tps, lat 1.592 ms stddev 2.027<br><span class="hljs-keyword">progress: </span>15.0 s, 125764.0 tps, lat 1.590 ms stddev 2.016<br><span class="hljs-keyword">progress: </span>18.0 s, 125639.4 tps, lat 1.592 ms stddev 2.022<br><span class="hljs-keyword">progress: </span>21.0 s, 126216.8 tps, lat 1.584 ms stddev 2.022<br><span class="hljs-keyword">progress: </span>24.0 s, 126663.5 tps, lat 1.579 ms stddev 2.013<br><span class="hljs-keyword">progress: </span>27.0 s, 125658.7 tps, lat 1.591 ms stddev 2.028<br><span class="hljs-keyword">progress: </span>30.0 s, 122487.5 tps, lat 1.630 ms stddev 2.068<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 200<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 3715165<br>latency average = 1.614 ms<br>latency stddev = 2.109 ms<br>initial connection time = 52.523 ms<br>tps = 123595.457398 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="500客户端"><a href="#500客户端" class="headerlink" title="500客户端"></a>500客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 500 -j 100 -M prepared -T30 -p 9132 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.1.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 85455.7 tps, lat 5.541 ms stddev 8.064<br><span class="hljs-keyword">progress: </span>6.0 s, 99284.5 tps, lat 5.036 ms stddev 6.484<br><span class="hljs-keyword">progress: </span>9.0 s, 98763.1 tps, lat 5.062 ms stddev 6.582<br><span class="hljs-keyword">progress: </span>12.0 s, 101529.4 tps, lat 4.924 ms stddev 6.404<br><span class="hljs-keyword">progress: </span>15.0 s, 104273.7 tps, lat 4.794 ms stddev 6.263<br><span class="hljs-keyword">progress: </span>18.0 s, 104751.0 tps, lat 4.774 ms stddev 6.228<br><span class="hljs-keyword">progress: </span>21.0 s, 105558.2 tps, lat 4.736 ms stddev 6.193<br><span class="hljs-keyword">progress: </span>24.0 s, 105583.7 tps, lat 4.735 ms stddev 6.216<br><span class="hljs-keyword">progress: </span>27.0 s, 105565.3 tps, lat 4.736 ms stddev 6.209<br><span class="hljs-keyword">progress: </span>30.0 s, 106031.7 tps, lat 4.708 ms stddev 6.147<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 500<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 3050871<br>latency average = 4.919 ms<br>latency stddev = 6.990 ms<br>initial connection time = 120.303 ms<br>tps = 100719.217118 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="800客户端"><a href="#800客户端" class="headerlink" title="800客户端"></a>800客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 800 -j 100 -M prepared -T30 -p 9132 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.1.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 71354.6 tps, lat 10.111 ms stddev 16.438<br><span class="hljs-keyword">progress: </span>6.0 s, 87681.8 tps, lat 9.127 ms stddev 11.592<br><span class="hljs-keyword">progress: </span>9.0 s, 89928.6 tps, lat 8.896 ms stddev 11.399<br><span class="hljs-keyword">progress: </span>12.0 s, 91080.1 tps, lat 8.783 ms stddev 11.277<br><span class="hljs-keyword">progress: </span>15.0 s, 92164.0 tps, lat 8.679 ms stddev 11.217<br><span class="hljs-keyword">progress: </span>18.0 s, 92907.0 tps, lat 8.613 ms stddev 11.067<br><span class="hljs-keyword">progress: </span>21.0 s, 93251.6 tps, lat 8.579 ms stddev 11.084<br><span class="hljs-keyword">progress: </span>24.0 s, 94052.0 tps, lat 8.505 ms stddev 10.976<br><span class="hljs-keyword">progress: </span>27.0 s, 94064.0 tps, lat 8.505 ms stddev 10.984<br><span class="hljs-keyword">progress: </span>30.0 s, 93350.0 tps, lat 8.558 ms stddev 11.081<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 800<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 2700274<br>latency average = 8.885 ms<br>latency stddev = 13.029 ms<br>initial connection time = 213.189 ms<br>tps = 88780.508751 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="1000客户端"><a href="#1000客户端" class="headerlink" title="1000客户端"></a>1000客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 1000 -j 100 -M prepared -T30 -p 9132 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.1.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 68365.7 tps, lat 12.838 ms stddev 22.063<br><span class="hljs-keyword">progress: </span>6.0 s, 84887.3 tps, lat 11.786 ms stddev 15.093<br><span class="hljs-keyword">progress: </span>9.0 s, 86756.2 tps, lat 11.527 ms stddev 14.829<br><span class="hljs-keyword">progress: </span>12.0 s, 88105.8 tps, lat 11.348 ms stddev 14.670<br><span class="hljs-keyword">progress: </span>15.0 s, 88940.3 tps, lat 11.238 ms stddev 14.544<br><span class="hljs-keyword">progress: </span>18.0 s, 89999.1 tps, lat 11.117 ms stddev 14.427<br><span class="hljs-keyword">progress: </span>21.0 s, 90404.0 tps, lat 11.060 ms stddev 14.339<br><span class="hljs-keyword">progress: </span>24.0 s, 91012.0 tps, lat 10.988 ms stddev 14.293<br><span class="hljs-keyword">progress: </span>27.0 s, 91365.4 tps, lat 10.947 ms stddev 14.221<br><span class="hljs-keyword">progress: </span>30.0 s, 91255.6 tps, lat 10.942 ms stddev 14.235<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 1000<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 2614251<br>latency average = 11.468 ms<br>latency stddev = 17.183 ms<br>initial connection time = 260.349 ms<br>tps = 85622.743960 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="1500客户端"><a href="#1500客户端" class="headerlink" title="1500客户端"></a>1500客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 1500 -j 100 -M prepared -T30 -p 9132 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.1.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 55589.2 tps, lat 21.899 ms stddev 44.684<br><span class="hljs-keyword">progress: </span>6.0 s, 78810.0 tps, lat 19.039 ms stddev 24.358<br><span class="hljs-keyword">progress: </span>9.0 s, 80419.7 tps, lat 18.650 ms stddev 23.841<br><span class="hljs-keyword">progress: </span>12.0 s, 81321.3 tps, lat 18.459 ms stddev 23.699<br><span class="hljs-keyword">progress: </span>15.0 s, 82863.7 tps, lat 18.102 ms stddev 23.186<br><span class="hljs-keyword">progress: </span>18.0 s, 83439.9 tps, lat 17.974 ms stddev 23.184<br><span class="hljs-keyword">progress: </span>21.0 s, 84125.7 tps, lat 17.829 ms stddev 23.017<br><span class="hljs-keyword">progress: </span>24.0 s, 84180.0 tps, lat 17.824 ms stddev 22.999<br><span class="hljs-keyword">progress: </span>27.0 s, 84737.3 tps, lat 17.701 ms stddev 22.832<br><span class="hljs-keyword">progress: </span>30.0 s, 84842.8 tps, lat 17.646 ms stddev 22.840<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 1500<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 2402467<br>latency average = 18.692 ms<br>latency stddev = 29.230 ms<br>initial connection time = 382.942 ms<br>tps = 78128.520303 (without initial connection time)<br></code></pre></td></tr></table></figure><h2 id="simple-update"><a href="#simple-update" class="headerlink" title="simple-update"></a>simple-update</h2><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$ /opt/pg14/bin/pgbench -N -c 100 -j 100 -M prepared -t 1000000 -p 9132 -h pgdb1 -Upostgres -P 10 pgbench<br>pgbench (14.1, server 9.1.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>10.0 s, 41719.5 tps, lat 2.390 ms stddev 2.103<br><span class="hljs-keyword">progress: </span>20.0 s, 45217.7 tps, lat 2.211 ms stddev 2.249<br><span class="hljs-keyword">progress: </span>30.0 s, 38554.9 tps, lat 2.593 ms stddev 2.670<br><span class="hljs-keyword">progress: </span>40.0 s, 35997.1 tps, lat 2.778 ms stddev 2.869<br><span class="hljs-keyword">progress: </span>50.0 s, 34062.3 tps, lat 2.935 ms stddev 3.044<br><span class="hljs-keyword">progress: </span>60.0 s, 33791.0 tps, lat 2.960 ms stddev 3.051<br>...<br><span class="hljs-keyword">progress: </span>4290.0 s, 20848.2 tps, lat 4.796 ms stddev 6.850<br><span class="hljs-keyword">progress: </span>4300.0 s, 23890.6 tps, lat 4.186 ms stddev 7.184<br><span class="hljs-keyword">progress: </span>4310.0 s, 29104.1 tps, lat 3.438 ms stddev 7.123<br><span class="hljs-keyword">progress: </span>4320.0 s, 29161.7 tps, lat 3.425 ms stddev 5.977<br><span class="hljs-keyword">progress: </span>4330.0 s, 14119.1 tps, lat 7.060 ms stddev 9.881<br><span class="hljs-keyword">progress: </span>4340.0 s, 17909.5 tps, lat 5.463 ms stddev 9.181<br><span class="hljs-keyword">progress: </span>4350.0 s, 27116.4 tps, lat 3.292 ms stddev 6.663<br><span class="hljs-keyword">progress: </span>4360.0 s, 46388.3 tps, lat 1.285 ms stddev 1.273<br>transaction type: &lt;builtin: simple update&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 100<br>number of threads: 100<br>number of transactions per client: 1000000<br>number of transactions actually processed: 100000000/100000000<br>latency average = 4.356 ms<br>latency stddev = 7.147 ms<br>initial connection time = 32.025 ms<br>tps = 22892.048160 (without initial connection time)<br></code></pre></td></tr></table></figure><h1 id="PG92-real-0m48-641s"><a href="#PG92-real-0m48-641s" class="headerlink" title="PG92 - real    0m48.641s"></a>PG92 - real 0m48.641s</h1><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs sas">[root@pgdb1 /export]# time /opt/pg14/bin/pgbench -i -s 200 -p 9232 -Upostgres pgbench<br>dropping old tables...<br>NOTICE:  <span class="hljs-meta">table</span> <span class="hljs-string">&quot;pgbench_accounts&quot;</span> does <span class="hljs-meta">not</span> exist, skipping<br>NOTICE:  <span class="hljs-meta">table</span> <span class="hljs-string">&quot;pgbench_branches&quot;</span> does <span class="hljs-meta">not</span> exist, skipping<br>NOTICE:  <span class="hljs-meta">table</span> <span class="hljs-string">&quot;pgbench_history&quot;</span> does <span class="hljs-meta">not</span> exist, skipping<br>NOTICE:  <span class="hljs-meta">table</span> <span class="hljs-string">&quot;pgbench_tellers&quot;</span> does <span class="hljs-meta">not</span> exist, skipping<br>creating tables...<br>generating data (client-side)...<br>20000000 of 20000000 tuples (100%) done (elapsed 32.92 s, remaining 0.00 s)<br>vacuuming...<br>creating <span class="hljs-meta">primary</span> keys...<br>NOTICE:  <span class="hljs-meta">ALTER</span> <span class="hljs-meta">TABLE</span> / <span class="hljs-meta">ADD</span> <span class="hljs-meta">PRIMARY</span> <span class="hljs-meta">KEY</span> will <span class="hljs-meta">create</span> implicit <span class="hljs-meta">index</span> <span class="hljs-string">&quot;pgbench_branches_pkey&quot;</span> for <span class="hljs-meta">table</span> <span class="hljs-string">&quot;pgbench_branches&quot;</span><br>NOTICE:  <span class="hljs-meta">ALTER</span> <span class="hljs-meta">TABLE</span> / <span class="hljs-meta">ADD</span> <span class="hljs-meta">PRIMARY</span> <span class="hljs-meta">KEY</span> will <span class="hljs-meta">create</span> implicit <span class="hljs-meta">index</span> <span class="hljs-string">&quot;pgbench_tellers_pkey&quot;</span> for <span class="hljs-meta">table</span> <span class="hljs-string">&quot;pgbench_tellers&quot;</span><br>NOTICE:  <span class="hljs-meta">ALTER</span> <span class="hljs-meta">TABLE</span> / <span class="hljs-meta">ADD</span> <span class="hljs-meta">PRIMARY</span> <span class="hljs-meta">KEY</span> will <span class="hljs-meta">create</span> implicit <span class="hljs-meta">index</span> <span class="hljs-string">&quot;pgbench_accounts_pkey&quot;</span> for <span class="hljs-meta">table</span> <span class="hljs-string">&quot;pgbench_accounts&quot;</span><br>done <span class="hljs-meta">in</span> 48.64 s (<span class="hljs-meta">drop</span> tables 0.02 s, <span class="hljs-meta">create</span> tables 0.00 s, client-side generate 33.21 s, vacuum 4.08 s, <span class="hljs-meta">primary</span> keys 11.32 s).<br><br>real    0m48.642s<br>user    0m6.311s<br>sys    0m0.133s<br></code></pre></td></tr></table></figure><h2 id="select-only-1"><a href="#select-only-1" class="headerlink" title="select-only"></a>select-only</h2><h3 id="100客户端-1"><a href="#100客户端-1" class="headerlink" title="100客户端"></a>100客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 100 -j 100 -M prepared -T30 -p 9232 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.2.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 192148.8 tps, lat 0.516 ms stddev 1.116<br><span class="hljs-keyword">progress: </span>6.0 s, 288204.7 tps, lat 0.347 ms stddev 0.281<br><span class="hljs-keyword">progress: </span>9.0 s, 225977.6 tps, lat 0.442 ms stddev 0.332<br><span class="hljs-keyword">progress: </span>12.0 s, 212469.3 tps, lat 0.471 ms stddev 0.339<br><span class="hljs-keyword">progress: </span>15.0 s, 200701.8 tps, lat 0.498 ms stddev 0.359<br><span class="hljs-keyword">progress: </span>18.0 s, 193654.6 tps, lat 0.516 ms stddev 0.359<br><span class="hljs-keyword">progress: </span>21.0 s, 187922.7 tps, lat 0.532 ms stddev 0.342<br><span class="hljs-keyword">progress: </span>24.0 s, 184495.7 tps, lat 0.542 ms stddev 0.386<br><span class="hljs-keyword">progress: </span>27.0 s, 183280.8 tps, lat 0.545 ms stddev 0.355<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 100<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 6184271<br>latency average = 0.485 ms<br>latency stddev = 0.486 ms<br>initial connection time = 28.744 ms<br>tps = 205936.107926 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="200客户端-1"><a href="#200客户端-1" class="headerlink" title="200客户端"></a>200客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 200 -j 100 -M prepared -T30 -p 9232 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.2.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 341263.7 tps, lat 0.576 ms stddev 0.704<br><span class="hljs-keyword">progress: </span>6.0 s, 328178.8 tps, lat 0.609 ms stddev 0.482<br><span class="hljs-keyword">progress: </span>9.0 s, 286975.1 tps, lat 0.697 ms stddev 0.550<br><span class="hljs-keyword">progress: </span>12.0 s, 282602.1 tps, lat 0.707 ms stddev 0.755<br><span class="hljs-keyword">progress: </span>15.0 s, 260822.5 tps, lat 0.766 ms stddev 0.571<br><span class="hljs-keyword">progress: </span>18.0 s, 252026.5 tps, lat 0.793 ms stddev 0.626<br><span class="hljs-keyword">progress: </span>21.0 s, 241449.9 tps, lat 0.828 ms stddev 0.684<br><span class="hljs-keyword">progress: </span>24.0 s, 227662.5 tps, lat 0.878 ms stddev 0.668<br><span class="hljs-keyword">progress: </span>27.0 s, 220309.0 tps, lat 0.907 ms stddev 0.683<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 200<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 7968798<br>latency average = 0.751 ms<br>latency stddev = 0.658 ms<br>initial connection time = 53.748 ms<br>tps = 265148.616589 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="500客户端-1"><a href="#500客户端-1" class="headerlink" title="500客户端"></a>500客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 500 -j 100 -M prepared -T30 -p 9232 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.2.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 263908.8 tps, lat 1.814 ms stddev 2.198<br><span class="hljs-keyword">progress: </span>6.0 s, 311985.9 tps, lat 1.602 ms stddev 0.361<br><span class="hljs-keyword">progress: </span>9.0 s, 321549.2 tps, lat 1.554 ms stddev 0.549<br><span class="hljs-keyword">progress: </span>12.0 s, 328288.9 tps, lat 1.522 ms stddev 0.395<br><span class="hljs-keyword">progress: </span>15.0 s, 333078.3 tps, lat 1.501 ms stddev 0.381<br><span class="hljs-keyword">progress: </span>18.0 s, 334740.3 tps, lat 1.493 ms stddev 0.489<br><span class="hljs-keyword">progress: </span>21.0 s, 336849.4 tps, lat 1.484 ms stddev 0.429<br><span class="hljs-keyword">progress: </span>24.0 s, 337117.1 tps, lat 1.483 ms stddev 0.463<br><span class="hljs-keyword">progress: </span>27.0 s, 339163.6 tps, lat 1.474 ms stddev 0.423<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 500<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 9736069<br>latency average = 1.534 ms<br>latency stddev = 0.771 ms<br>initial connection time = 117.343 ms<br>tps = 325218.060070 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="800客户端-1"><a href="#800客户端-1" class="headerlink" title="800客户端"></a>800客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 800 -j 100 -M prepared -T30 -p 9232 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.2.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 212114.0 tps, lat 3.505 ms stddev 5.578<br><span class="hljs-keyword">progress: </span>6.0 s, 258254.0 tps, lat 3.097 ms stddev 1.054<br><span class="hljs-keyword">progress: </span>9.0 s, 269625.6 tps, lat 2.966 ms stddev 0.690<br><span class="hljs-keyword">progress: </span>12.0 s, 277383.1 tps, lat 2.883 ms stddev 0.604<br><span class="hljs-keyword">progress: </span>15.0 s, 282141.2 tps, lat 2.835 ms stddev 0.608<br><span class="hljs-keyword">progress: </span>18.0 s, 285953.1 tps, lat 2.797 ms stddev 0.590<br><span class="hljs-keyword">progress: </span>21.0 s, 287456.6 tps, lat 2.782 ms stddev 0.849<br><span class="hljs-keyword">progress: </span>24.0 s, 290468.3 tps, lat 2.754 ms stddev 0.587<br><span class="hljs-keyword">progress: </span>27.0 s, 292308.0 tps, lat 2.736 ms stddev 0.589<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 800<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 8243021<br>latency average = 2.891 ms<br>latency stddev = 1.742 ms<br>initial connection time = 192.440 ms<br>tps = 274250.806132 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="1000客户端-1"><a href="#1000客户端-1" class="headerlink" title="1000客户端"></a>1000客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 1000 -j 100 -M prepared -T30 -p 9232 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.2.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 194600.0 tps, lat 4.699 ms stddev 8.516<br><span class="hljs-keyword">progress: </span>6.0 s, 244385.4 tps, lat 4.091 ms stddev 0.770<br><span class="hljs-keyword">progress: </span>9.0 s, 254297.2 tps, lat 3.932 ms stddev 0.793<br><span class="hljs-keyword">progress: </span>12.0 s, 258589.9 tps, lat 3.866 ms stddev 1.294<br><span class="hljs-keyword">progress: </span>15.0 s, 262997.4 tps, lat 3.802 ms stddev 1.356<br><span class="hljs-keyword">progress: </span>18.0 s, 268120.7 tps, lat 3.729 ms stddev 0.768<br><span class="hljs-keyword">progress: </span>21.0 s, 271781.6 tps, lat 3.679 ms stddev 0.772<br><span class="hljs-keyword">progress: </span>24.0 s, 272594.9 tps, lat 3.668 ms stddev 1.192<br><span class="hljs-keyword">progress: </span>27.0 s, 275859.2 tps, lat 3.624 ms stddev 0.725<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 1000<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 7739938<br>latency average = 3.842 ms<br>latency stddev = 2.551 ms<br>initial connection time = 234.196 ms<br>tps = 257436.567155 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="1500客户端-1"><a href="#1500客户端-1" class="headerlink" title="1500客户端"></a>1500客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 1500 -j 100 -M prepared -T30 -p 9232 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.2.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 152056.4 tps, lat 8.267 ms stddev 22.007<br><span class="hljs-keyword">progress: </span>6.0 s, 221203.1 tps, lat 6.781 ms stddev 0.879<br><span class="hljs-keyword">progress: </span>9.0 s, 230492.1 tps, lat 6.507 ms stddev 0.880<br><span class="hljs-keyword">progress: </span>12.0 s, 232845.3 tps, lat 6.441 ms stddev 2.220<br><span class="hljs-keyword">progress: </span>15.0 s, 239265.7 tps, lat 6.268 ms stddev 0.864<br><span class="hljs-keyword">progress: </span>18.0 s, 242210.7 tps, lat 6.192 ms stddev 0.874<br><span class="hljs-keyword">progress: </span>21.0 s, 245009.5 tps, lat 6.121 ms stddev 0.872<br><span class="hljs-keyword">progress: </span>24.0 s, 247208.2 tps, lat 6.067 ms stddev 1.244<br><span class="hljs-keyword">progress: </span>27.0 s, 249214.8 tps, lat 6.017 ms stddev 1.384<br><span class="hljs-keyword">progress: </span>30.0 s, 249485.8 tps, lat 6.008 ms stddev 5.394<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 1500<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 6927362<br>latency average = 6.392 ms<br>latency stddev = 6.195 ms<br>initial connection time = 350.649 ms<br>tps = 221548.978507 (without initial connection time)<br></code></pre></td></tr></table></figure><h2 id="simple-update-1"><a href="#simple-update-1" class="headerlink" title="simple-update"></a>simple-update</h2><h3 id="100客户端-2"><a href="#100客户端-2" class="headerlink" title="100客户端"></a>100客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$ time /opt/pg14/bin/pgbench -N -c 100 -j 100 -M prepared -t 1000000 -p 9232 -h pgdb1 -Upostgres -P 10 pgbench<br>pgbench (14.1, server 9.2.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>10.0 s, 47004.9 tps, lat 2.122 ms stddev 1.601<br><span class="hljs-keyword">progress: </span>20.0 s, 58263.0 tps, lat 1.716 ms stddev 1.498<br><span class="hljs-keyword">progress: </span>30.0 s, 59419.9 tps, lat 1.683 ms stddev 1.469<br><span class="hljs-keyword">progress: </span>40.0 s, 59503.5 tps, lat 1.680 ms stddev 1.477<br><span class="hljs-keyword">progress: </span>50.0 s, 59825.8 tps, lat 1.671 ms stddev 1.458<br><span class="hljs-keyword">progress: </span>60.0 s, 58134.2 tps, lat 1.720 ms stddev 1.505<br><span class="hljs-keyword">progress: </span>70.0 s, 56390.3 tps, lat 1.773 ms stddev 1.463<br><span class="hljs-keyword">progress: </span>80.0 s, 53436.9 tps, lat 1.871 ms stddev 7.545<br><span class="hljs-keyword">progress: </span>90.0 s, 59090.3 tps, lat 1.692 ms stddev 1.405<br><span class="hljs-keyword">progress: </span>100.0 s, 57067.7 tps, lat 1.752 ms stddev 1.326<br><span class="hljs-keyword">progress: </span>110.0 s, 42319.1 tps, lat 2.362 ms stddev 2.166<br><span class="hljs-keyword">progress: </span>120.0 s, 32023.0 tps, lat 3.123 ms stddev 3.143<br><span class="hljs-keyword">progress: </span>130.0 s, 51978.8 tps, lat 1.924 ms stddev 7.958<br>...<br><span class="hljs-keyword">progress: </span>1580.0 s, 60515.5 tps, lat 1.652 ms stddev 1.480<br><span class="hljs-keyword">progress: </span>1590.0 s, 52424.9 tps, lat 1.907 ms stddev 8.985<br><span class="hljs-keyword">progress: </span>1600.0 s, 61131.2 tps, lat 1.636 ms stddev 1.451<br><span class="hljs-keyword">progress: </span>1610.0 s, 60899.3 tps, lat 1.642 ms stddev 1.463<br><span class="hljs-keyword">progress: </span>1620.0 s, 60238.3 tps, lat 1.660 ms stddev 1.519<br><span class="hljs-keyword">progress: </span>1630.0 s, 59443.6 tps, lat 1.682 ms stddev 1.519<br><span class="hljs-keyword">progress: </span>1640.0 s, 60357.7 tps, lat 1.657 ms stddev 1.493<br><span class="hljs-keyword">progress: </span>1650.0 s, 52315.0 tps, lat 1.911 ms stddev 8.981<br><span class="hljs-keyword">progress: </span>1660.0 s, 61539.5 tps, lat 1.625 ms stddev 1.457<br><span class="hljs-keyword">progress: </span>1670.0 s, 49005.5 tps, lat 2.040 ms stddev 2.070<br><span class="hljs-keyword">progress: </span>1680.0 s, 55438.7 tps, lat 1.804 ms stddev 1.730<br><span class="hljs-keyword">progress: </span>1690.0 s, 58945.3 tps, lat 1.696 ms stddev 1.544<br><span class="hljs-keyword">progress: </span>1700.0 s, 60188.1 tps, lat 1.661 ms stddev 1.495<br><span class="hljs-keyword">progress: </span>1710.0 s, 52903.8 tps, lat 1.890 ms stddev 8.181<br><span class="hljs-keyword">progress: </span>1720.0 s, 60637.0 tps, lat 1.649 ms stddev 1.469<br><span class="hljs-keyword">progress: </span>1730.0 s, 60229.4 tps, lat 1.652 ms stddev 1.504<br><span class="hljs-keyword">progress: </span>1740.0 s, 60056.7 tps, lat 1.640 ms stddev 1.470<br><span class="hljs-keyword">progress: </span>1750.0 s, 59314.2 tps, lat 1.574 ms stddev 1.375<br>transaction type: &lt;builtin: simple update&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 100<br>number of threads: 100<br>number of transactions per client: 1000000<br>number of transactions actually processed: 100000000/100000000<br>latency average = 1.761 ms<br>latency stddev = 3.879 ms<br>initial connection time = 28.065 ms<br>tps = 56304.037342 (without initial connection time)<br> <br>real 29m36.228s<br>user 35m2.590s<br>sys 83m40.060s<br></code></pre></td></tr></table></figure><h1 id="PG93-real-0m49-263s"><a href="#PG93-real-0m49-263s" class="headerlink" title="PG93 - real 0m49.263s"></a>PG93 - real 0m49.263s</h1><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs routeros">[root@pgdb1 /<span class="hljs-builtin-name">export</span>]# time /opt/pg14/bin/pgbench -i -s 200 -p 9332 -Upostgres pgbench<br><br>dropping old tables<span class="hljs-built_in">..</span>.<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_accounts&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_branches&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_history&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_tellers&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>creating tables<span class="hljs-built_in">..</span>.<br>generating data (client-side)<span class="hljs-built_in">..</span>.<br>20000000 of 20000000 tuples (100%) done (elapsed 33.09 s, remaining 0.00 s)<br>vacuuming<span class="hljs-built_in">..</span>.<br>creating primary keys<span class="hljs-built_in">..</span>.<br>done <span class="hljs-keyword">in</span> 49.26 s (drop tables 0.00 s, create tables 0.00 s, client-side generate 33.29 s, vacuum 4.13 s, primary keys 11.83 s).<br><br>real    0m49.263s<br>user    0m6.323s<br>sys    0m0.143s<br></code></pre></td></tr></table></figure><h2 id="select-only-2"><a href="#select-only-2" class="headerlink" title="select-only"></a>select-only</h2><h3 id="100客户端-3"><a href="#100客户端-3" class="headerlink" title="100客户端"></a>100客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 100 -j 100 -M prepared -T30 -p 9332 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.3.25)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 254353.1 tps, lat 0.390 ms stddev 0.452<br><span class="hljs-keyword">progress: </span>6.0 s, 207230.4 tps, lat 0.482 ms stddev 0.412<br><span class="hljs-keyword">progress: </span>9.0 s, 184623.2 tps, lat 0.541 ms stddev 0.372<br><span class="hljs-keyword">progress: </span>12.0 s, 175602.5 tps, lat 0.569 ms stddev 0.392<br><span class="hljs-keyword">progress: </span>15.0 s, 173112.2 tps, lat 0.577 ms stddev 0.385<br><span class="hljs-keyword">progress: </span>18.0 s, 169982.0 tps, lat 0.588 ms stddev 0.399<br><span class="hljs-keyword">progress: </span>21.0 s, 167776.1 tps, lat 0.596 ms stddev 0.412<br><span class="hljs-keyword">progress: </span>24.0 s, 169309.6 tps, lat 0.591 ms stddev 0.395<br><span class="hljs-keyword">progress: </span>27.0 s, 165922.0 tps, lat 0.603 ms stddev 0.390<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 100<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 5498003<br>latency average = 0.545 ms<br>latency stddev = 0.413 ms<br>initial connection time = 28.723 ms<br>tps = 182615.808269 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="200客户端-2"><a href="#200客户端-2" class="headerlink" title="200客户端"></a>200客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 200 -j 100 -M prepared -T30 -p 9332 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.3.25)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 313699.2 tps, lat 0.627 ms stddev 0.704<br><span class="hljs-keyword">progress: </span>6.0 s, 257100.6 tps, lat 0.778 ms stddev 0.601<br><span class="hljs-keyword">progress: </span>9.0 s, 223074.9 tps, lat 0.896 ms stddev 0.768<br><span class="hljs-keyword">progress: </span>12.0 s, 227558.7 tps, lat 0.879 ms stddev 0.779<br><span class="hljs-keyword">progress: </span>15.0 s, 204229.7 tps, lat 0.979 ms stddev 0.823<br><span class="hljs-keyword">progress: </span>18.0 s, 197675.1 tps, lat 1.012 ms stddev 0.825<br><span class="hljs-keyword">progress: </span>21.0 s, 200877.9 tps, lat 0.995 ms stddev 0.830<br><span class="hljs-keyword">progress: </span>24.0 s, 190578.9 tps, lat 1.049 ms stddev 0.953<br><span class="hljs-keyword">progress: </span>27.0 s, 182207.5 tps, lat 1.097 ms stddev 0.967<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 200<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 6538282<br>latency average = 0.916 ms<br>latency stddev = 0.838 ms<br>initial connection time = 49.788 ms<br>tps = 217670.050805 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="500客户端-2"><a href="#500客户端-2" class="headerlink" title="500客户端"></a>500客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 500 -j 100 -M prepared -T30 -p 9332 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.3.25)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 267873.8 tps, lat 1.789 ms stddev 2.319<br><span class="hljs-keyword">progress: </span>6.0 s, 315059.6 tps, lat 1.586 ms stddev 0.394<br><span class="hljs-keyword">progress: </span>9.0 s, 321868.6 tps, lat 1.553 ms stddev 0.470<br><span class="hljs-keyword">progress: </span>12.0 s, 328949.9 tps, lat 1.519 ms stddev 0.452<br><span class="hljs-keyword">progress: </span>15.0 s, 329555.7 tps, lat 1.517 ms stddev 0.456<br><span class="hljs-keyword">progress: </span>18.0 s, 331351.0 tps, lat 1.508 ms stddev 0.481<br><span class="hljs-keyword">progress: </span>21.0 s, 332563.9 tps, lat 1.503 ms stddev 0.478<br><span class="hljs-keyword">progress: </span>24.0 s, 330523.2 tps, lat 1.512 ms stddev 0.606<br><span class="hljs-keyword">progress: </span>27.0 s, 330510.7 tps, lat 1.512 ms stddev 0.665<br><span class="hljs-keyword">progress: </span>30.0 s, 330606.2 tps, lat 1.510 ms stddev 0.593<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 500<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 9656619<br>latency average = 1.546 ms<br>latency stddev = 0.847 ms<br>initial connection time = 113.589 ms<br>tps = 321562.189907 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="800客户端-2"><a href="#800客户端-2" class="headerlink" title="800客户端"></a>800客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 800 -j 100 -M prepared -T30 -p 9332 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.3.25)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 218662.3 tps, lat 3.394 ms stddev 4.990<br><span class="hljs-keyword">progress: </span>6.0 s, 268515.0 tps, lat 2.979 ms stddev 0.677<br><span class="hljs-keyword">progress: </span>9.0 s, 277577.6 tps, lat 2.881 ms stddev 0.629<br><span class="hljs-keyword">progress: </span>12.0 s, 281467.1 tps, lat 2.842 ms stddev 0.914<br><span class="hljs-keyword">progress: </span>15.0 s, 286429.9 tps, lat 2.792 ms stddev 0.668<br><span class="hljs-keyword">progress: </span>18.0 s, 288946.0 tps, lat 2.768 ms stddev 0.772<br><span class="hljs-keyword">progress: </span>21.0 s, 292323.1 tps, lat 2.736 ms stddev 0.681<br><span class="hljs-keyword">progress: </span>24.0 s, 292762.8 tps, lat 2.732 ms stddev 0.796<br><span class="hljs-keyword">progress: </span>27.0 s, 294357.6 tps, lat 2.717 ms stddev 0.702<br><span class="hljs-keyword">progress: </span>30.0 s, 296112.3 tps, lat 2.699 ms stddev 0.770<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 800<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 8391512<br>latency average = 2.839 ms<br>latency stddev = 1.608 ms<br>initial connection time = 197.202 ms<br>tps = 279728.171875 (without initial connection time)<br></code></pre></td></tr></table></figure><h2 id="1000客户端-2"><a href="#1000客户端-2" class="headerlink" title="1000客户端:"></a>1000客户端:</h2><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 1000 -j 100 -M prepared -T30 -p 9332 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.3.25)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 197871.2 tps, lat 4.615 ms stddev 7.709<br><span class="hljs-keyword">progress: </span>6.0 s, 250907.1 tps, lat 3.985 ms stddev 0.713<br><span class="hljs-keyword">progress: </span>9.0 s, 259822.9 tps, lat 3.848 ms stddev 0.729<br><span class="hljs-keyword">progress: </span>12.0 s, 262703.1 tps, lat 3.806 ms stddev 1.290<br><span class="hljs-keyword">progress: </span>15.0 s, 268668.1 tps, lat 3.721 ms stddev 0.707<br><span class="hljs-keyword">progress: </span>18.0 s, 271463.7 tps, lat 3.683 ms stddev 0.834<br><span class="hljs-keyword">progress: </span>21.0 s, 272685.5 tps, lat 3.666 ms stddev 1.090<br><span class="hljs-keyword">progress: </span>24.0 s, 273120.0 tps, lat 3.619 ms stddev 0.710<br><span class="hljs-keyword">progress: </span>27.0 s, 277427.4 tps, lat 3.645 ms stddev 1.675<br><span class="hljs-keyword">progress: </span>30.0 s, 278927.9 tps, lat 3.583 ms stddev 0.721<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 1000<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 7840903<br>latency average = 3.793 ms<br>latency stddev = 2.361 ms<br>initial connection time = 227.924 ms<br>tps = 262126.579921 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="1500客户端-2"><a href="#1500客户端-2" class="headerlink" title="1500客户端"></a>1500客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 1500 -j 100 -M prepared -T30 -p 9332 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.3.25)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 170436.4 tps, lat 7.643 ms stddev 14.327<br><span class="hljs-keyword">progress: </span>6.0 s, 228435.2 tps, lat 6.566 ms stddev 0.907<br><span class="hljs-keyword">progress: </span>9.0 s, 218403.5 tps, lat 6.831 ms stddev 23.970<br><span class="hljs-keyword">progress: </span>12.0 s, 235627.3 tps, lat 6.397 ms stddev 9.154<br><span class="hljs-keyword">progress: </span>15.0 s, 242855.8 tps, lat 6.177 ms stddev 2.936<br><span class="hljs-keyword">progress: </span>18.0 s, 243154.1 tps, lat 6.169 ms stddev 3.271<br><span class="hljs-keyword">progress: </span>21.0 s, 249007.0 tps, lat 6.023 ms stddev 1.595<br><span class="hljs-keyword">progress: </span>24.0 s, 251563.0 tps, lat 5.962 ms stddev 1.343<br><span class="hljs-keyword">progress: </span>27.0 s, 251876.3 tps, lat 5.954 ms stddev 1.989<br><span class="hljs-keyword">progress: </span>30.0 s, 255296.6 tps, lat 5.874 ms stddev 1.029<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 1500<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 7040365<br>latency average = 6.308 ms<br>latency stddev = 8.963 ms<br>initial connection time = 345.675 ms<br>tps = 235021.659428 (without initial connection time)<br></code></pre></td></tr></table></figure><h2 id="simple-update-2"><a href="#simple-update-2" class="headerlink" title="simple-update"></a>simple-update</h2><h3 id="100客户端-4"><a href="#100客户端-4" class="headerlink" title="100客户端"></a>100客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$ time /opt/pg14/bin/pgbench -N -c 100 -j 100 -M prepared -t 1000000 -p 9332 -h pgdb1 -Upostgres -P 10 pgbench<br>pgbench (14.1, server 9.3.25)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>10.0 s, 44069.1 tps, lat 2.263 ms stddev 1.564<br><span class="hljs-keyword">progress: </span>20.0 s, 56384.0 tps, lat 1.773 ms stddev 1.533<br><span class="hljs-keyword">progress: </span>30.0 s, 56693.4 tps, lat 1.764 ms stddev 1.563<br><span class="hljs-keyword">progress: </span>40.0 s, 57920.5 tps, lat 1.726 ms stddev 1.510<br><span class="hljs-keyword">progress: </span>50.0 s, 58556.1 tps, lat 1.708 ms stddev 1.492<br><span class="hljs-keyword">progress: </span>60.0 s, 58097.0 tps, lat 1.721 ms stddev 1.512<br><span class="hljs-keyword">progress: </span>70.0 s, 58320.1 tps, lat 1.715 ms stddev 1.500<br><span class="hljs-keyword">progress: </span>80.0 s, 57331.0 tps, lat 1.744 ms stddev 1.508<br><span class="hljs-keyword">progress: </span>90.0 s, 57303.3 tps, lat 1.745 ms stddev 1.543<br><span class="hljs-keyword">progress: </span>100.0 s, 57880.1 tps, lat 1.728 ms stddev 1.525<br><span class="hljs-keyword">progress: </span>110.0 s, 58055.0 tps, lat 1.722 ms stddev 1.512<br>...<br><span class="hljs-keyword">progress: </span>1600.0 s, 58331.8 tps, lat 1.714 ms stddev 1.509<br><span class="hljs-keyword">progress: </span>1610.0 s, 58631.9 tps, lat 1.705 ms stddev 1.498<br><span class="hljs-keyword">progress: </span>1620.0 s, 58704.7 tps, lat 1.703 ms stddev 1.491<br><span class="hljs-keyword">progress: </span>1630.0 s, 58636.0 tps, lat 1.705 ms stddev 1.493<br><span class="hljs-keyword">progress: </span>1640.0 s, 58618.4 tps, lat 1.706 ms stddev 1.507<br><span class="hljs-keyword">progress: </span>1650.0 s, 57439.4 tps, lat 1.741 ms stddev 1.540<br><span class="hljs-keyword">progress: </span>1660.0 s, 58188.2 tps, lat 1.718 ms stddev 1.514<br><span class="hljs-keyword">progress: </span>1670.0 s, 58796.1 tps, lat 1.695 ms stddev 1.479<br><span class="hljs-keyword">progress: </span>1680.0 s, 58643.0 tps, lat 1.679 ms stddev 1.455<br><span class="hljs-keyword">progress: </span>1690.0 s, 58320.1 tps, lat 1.644 ms stddev 1.399<br><span class="hljs-keyword">progress: </span>1700.0 s, 58215.1 tps, lat 1.496 ms stddev 1.212<br><span class="hljs-keyword">progress: </span>1710.0 s, 56811.9 tps, lat 1.291 ms stddev 0.906<br>transaction type: &lt;builtin: simple update&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 100<br>number of threads: 100<br>number of transactions per client: 1000000<br>number of transactions actually processed: 100000000/100000000<br>latency average = 1.710 ms<br>latency stddev = 1.507 ms<br>initial connection time = 30.208 ms<br>tps = 57856.468245 (without initial connection time)<br><br>real 28m48.583s<br>user 35m21.135s<br>sys 85m25.108s<br></code></pre></td></tr></table></figure><h1 id="PG94-real-0m51-842s"><a href="#PG94-real-0m51-842s" class="headerlink" title="PG94 - real    0m51.842s"></a>PG94 - real 0m51.842s</h1><p>[root@pgdb1 /export]# time /opt/pg14/bin/pgbench -i -s 200 -p 9432 -Upostgres pgbench<br>dropping old tables…<br>NOTICE: table “pgbench_accounts” does not exist, skipping<br>NOTICE: table “pgbench_branches” does not exist, skipping<br>NOTICE: table “pgbench_history” does not exist, skipping<br>NOTICE: table “pgbench_tellers” does not exist, skipping<br>creating tables…<br>generating data (client-side)…<br>20000000 of 20000000 tuples (100%) done (elapsed 32.50 s, remaining 0.00 s)<br>vacuuming…<br>creating primary keys…<br>done in 48.05 s (drop tables 0.00 s, create tables 0.00 s, client-side generate 32.74 s, vacuum 4.29 s, primary keys 11.01 s).</p><p>real 0m48.052s<br>user 0m6.326s<br>sys 0m0.148s<br></p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs clean"><br>## select-only<br>### <span class="hljs-number">100</span>客户端<br></code></pre></td></tr></table></figure><br>[postgres@pgdb2 ~]$ /opt/pg14/bin/pgbench -S -c 100 -j 100 -M prepared -T30 -p 9432 -h pgdb1 -Upostgres -P 3 pgbench<br>pgbench (14.1, server 9.4.26)<br>starting vacuum…end.<br>progress: 3.0 s, 392113.0 tps, lat 0.253 ms stddev 0.289<br>progress: 6.0 s, 466485.4 tps, lat 0.214 ms stddev 0.117<br>progress: 9.0 s, 477871.5 tps, lat 0.209 ms stddev 0.091<br>progress: 12.0 s, 482262.7 tps, lat 0.207 ms stddev 0.092<br>progress: 15.0 s, 482754.6 tps, lat 0.207 ms stddev 0.113<br>progress: 18.0 s, 483773.4 tps, lat 0.207 ms stddev 0.106<br>progress: 21.0 s, 487257.6 tps, lat 0.205 ms stddev 0.090<br>progress: 24.0 s, 486905.0 tps, lat 0.205 ms stddev 0.093<br>progress: 27.0 s, 485396.1 tps, lat 0.206 ms stddev 0.104<br>transaction type:<builtin : select only><br>scaling factor: 200<br>query mode: prepared<br>number of clients: 100<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 14172180<br>latency average = 0.211 ms<br>latency stddev = 0.134 ms<br>initial connection time = 26.210 ms<br>tps = 472402.220782 (without initial connection time)<p></p><h3 id="200客户端-3"><a href="#200客户端-3" class="headerlink" title="200客户端"></a>200客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 200 -j 100 -M prepared -T30 -p 9432 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.4.26)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 381488.9 tps, lat 0.516 ms stddev 0.459<br><span class="hljs-keyword">progress: </span>6.0 s, 434907.3 tps, lat 0.459 ms stddev 0.164<br><span class="hljs-keyword">progress: </span>9.0 s, 445740.3 tps, lat 0.448 ms stddev 0.185<br><span class="hljs-keyword">progress: </span>12.0 s, 451496.4 tps, lat 0.443 ms stddev 0.200<br><span class="hljs-keyword">progress: </span>15.0 s, 459551.0 tps, lat 0.435 ms stddev 0.198<br><span class="hljs-keyword">progress: </span>18.0 s, 458625.9 tps, lat 0.436 ms stddev 0.242<br><span class="hljs-keyword">progress: </span>21.0 s, 461288.2 tps, lat 0.433 ms stddev 0.255<br><span class="hljs-keyword">progress: </span>24.0 s, 470920.6 tps, lat 0.424 ms stddev 0.169<br><span class="hljs-keyword">progress: </span>27.0 s, 471795.0 tps, lat 0.423 ms stddev 0.162<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 200<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 13528785<br>latency average = 0.442 ms<br>latency stddev = 0.234 ms<br>initial connection time = 45.124 ms<br>tps = 450859.183832 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="500客户端-3"><a href="#500客户端-3" class="headerlink" title="500客户端"></a>500客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 500 -j 100 -M prepared -T30 -p 9432 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.4.26)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 270873.3 tps, lat 1.777 ms stddev 2.162<br><span class="hljs-keyword">progress: </span>6.0 s, 316471.8 tps, lat 1.579 ms stddev 0.353<br><span class="hljs-keyword">progress: </span>9.0 s, 326467.1 tps, lat 1.531 ms stddev 0.409<br><span class="hljs-keyword">progress: </span>12.0 s, 334699.1 tps, lat 1.493 ms stddev 0.377<br><span class="hljs-keyword">progress: </span>15.0 s, 338532.7 tps, lat 1.476 ms stddev 0.371<br><span class="hljs-keyword">progress: </span>18.0 s, 343985.1 tps, lat 1.453 ms stddev 0.395<br><span class="hljs-keyword">progress: </span>21.0 s, 348162.9 tps, lat 1.435 ms stddev 0.342<br><span class="hljs-keyword">progress: </span>24.0 s, 350757.1 tps, lat 1.425 ms stddev 0.339<br><span class="hljs-keyword">progress: </span>27.0 s, 352719.2 tps, lat 1.417 ms stddev 0.341<br><span class="hljs-keyword">progress: </span>30.0 s, 354435.0 tps, lat 1.408 ms stddev 0.327<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 500<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 10011350<br>latency average = 1.492 ms<br>latency stddev = 0.727 ms<br>initial connection time = 105.410 ms<br>tps = 333486.818737 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="800客户端-3"><a href="#800客户端-3" class="headerlink" title="800客户端"></a>800客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 800 -j 100 -M prepared -T30 -p 9432 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.4.26)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 221079.1 tps, lat 3.378 ms stddev 4.943<br><span class="hljs-keyword">progress: </span>6.0 s, 265768.2 tps, lat 3.010 ms stddev 0.626<br><span class="hljs-keyword">progress: </span>9.0 s, 275011.6 tps, lat 2.908 ms stddev 0.595<br><span class="hljs-keyword">progress: </span>12.0 s, 280176.3 tps, lat 2.855 ms stddev 0.602<br><span class="hljs-keyword">progress: </span>15.0 s, 284293.4 tps, lat 2.813 ms stddev 0.589<br><span class="hljs-keyword">progress: </span>18.0 s, 288082.0 tps, lat 2.776 ms stddev 0.598<br><span class="hljs-keyword">progress: </span>21.0 s, 290812.3 tps, lat 2.750 ms stddev 0.613<br><span class="hljs-keyword">progress: </span>24.0 s, 292489.7 tps, lat 2.734 ms stddev 0.634<br><span class="hljs-keyword">progress: </span>27.0 s, 293570.1 tps, lat 2.724 ms stddev 0.647<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 800<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 8358391<br>latency average = 2.852 ms<br>latency stddev = 1.554 ms<br>initial connection time = 181.299 ms<br>tps = 277646.896174 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="1000客户端-3"><a href="#1000客户端-3" class="headerlink" title="1000客户端"></a>1000客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 1000 -j 100 -M prepared -T30 -p 9432 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.4.26)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 205263.1 tps, lat 4.493 ms stddev 6.914<br><span class="hljs-keyword">progress: </span>6.0 s, 249028.1 tps, lat 4.015 ms stddev 0.753<br><span class="hljs-keyword">progress: </span>9.0 s, 256870.1 tps, lat 3.892 ms stddev 1.412<br><span class="hljs-keyword">progress: </span>12.0 s, 261918.0 tps, lat 3.818 ms stddev 2.005<br><span class="hljs-keyword">progress: </span>15.0 s, 266262.5 tps, lat 3.755 ms stddev 0.981<br><span class="hljs-keyword">progress: </span>18.0 s, 269995.2 tps, lat 3.703 ms stddev 0.776<br><span class="hljs-keyword">progress: </span>21.0 s, 272889.7 tps, lat 3.664 ms stddev 0.728<br><span class="hljs-keyword">progress: </span>24.0 s, 275423.0 tps, lat 3.629 ms stddev 0.734<br><span class="hljs-keyword">progress: </span>27.0 s, 276895.8 tps, lat 3.612 ms stddev 2.480<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 1000<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 7841975<br>latency average = 3.796 ms<br>latency stddev = 2.354 ms<br>initial connection time = 206.885 ms<br>tps = 261368.159691 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="1500客户端-3"><a href="#1500客户端-3" class="headerlink" title="1500客户端"></a>1500客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 1500 -j 100 -M prepared -T30 -p 9432 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.4.26)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 178780.8 tps, lat 7.380 ms stddev 14.579<br><span class="hljs-keyword">progress: </span>6.0 s, 224720.8 tps, lat 6.669 ms stddev 0.924<br><span class="hljs-keyword">progress: </span>9.0 s, 229469.8 tps, lat 6.536 ms stddev 4.942<br><span class="hljs-keyword">progress: </span>12.0 s, 236894.7 tps, lat 6.335 ms stddev 3.424<br><span class="hljs-keyword">progress: </span>15.0 s, 241162.6 tps, lat 6.220 ms stddev 2.622<br><span class="hljs-keyword">progress: </span>18.0 s, 244809.8 tps, lat 6.127 ms stddev 1.702<br><span class="hljs-keyword">progress: </span>21.0 s, 247579.8 tps, lat 6.058 ms stddev 1.480<br><span class="hljs-keyword">progress: </span>24.0 s, 250489.3 tps, lat 5.987 ms stddev 3.559<br><span class="hljs-keyword">progress: </span>27.0 s, 251965.1 tps, lat 5.952 ms stddev 0.848<br><span class="hljs-keyword">progress: </span>30.0 s, 253096.7 tps, lat 5.925 ms stddev 0.809<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 1500<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 7077290<br>latency average = 6.283 ms<br>latency stddev = 4.807 ms<br>initial connection time = 315.083 ms<br>tps = 235906.835785 (without initial connection time)<br></code></pre></td></tr></table></figure><h2 id="simple-update-3"><a href="#simple-update-3" class="headerlink" title="simple-update"></a>simple-update</h2><h3 id="100客户端-5"><a href="#100客户端-5" class="headerlink" title="100客户端"></a>100客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$ time /opt/pg14/bin/pgbench -N -c 100 -j 100 -M prepared -t 1000000 -p 9432 -h pgdb1 -Upostgres -P 10 pgbench<br>pgbench (14.1, server 9.4.26)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>10.0 s, 54343.3 tps, lat 1.836 ms stddev 1.645<br><span class="hljs-keyword">progress: </span>20.0 s, 57841.2 tps, lat 1.729 ms stddev 1.595<br><span class="hljs-keyword">progress: </span>30.0 s, 58166.6 tps, lat 1.719 ms stddev 1.577<br><span class="hljs-keyword">progress: </span>40.0 s, 58660.0 tps, lat 1.705 ms stddev 1.584<br><span class="hljs-keyword">progress: </span>50.0 s, 58932.4 tps, lat 1.697 ms stddev 1.553<br><span class="hljs-keyword">progress: </span>60.0 s, 58931.1 tps, lat 1.697 ms stddev 1.557<br><span class="hljs-keyword">progress: </span>70.0 s, 58635.3 tps, lat 1.705 ms stddev 1.777<br><span class="hljs-keyword">progress: </span>80.0 s, 59200.4 tps, lat 1.689 ms stddev 1.572<br><span class="hljs-keyword">progress: </span>90.0 s, 58276.6 tps, lat 1.716 ms stddev 1.582<br><span class="hljs-keyword">progress: </span>100.0 s, 58883.9 tps, lat 1.698 ms stddev 1.558<br>...<br><span class="hljs-keyword">progress: </span>1640.0 s, 59436.1 tps, lat 1.682 ms stddev 1.561<br><span class="hljs-keyword">progress: </span>1650.0 s, 58561.6 tps, lat 1.707 ms stddev 1.568<br><span class="hljs-keyword">progress: </span>1660.0 s, 59102.6 tps, lat 1.692 ms stddev 1.547<br><span class="hljs-keyword">progress: </span>1670.0 s, 54889.6 tps, lat 1.822 ms stddev 7.889<br><span class="hljs-keyword">progress: </span>1680.0 s, 59970.9 tps, lat 1.667 ms stddev 1.526<br><span class="hljs-keyword">progress: </span>1690.0 s, 59735.5 tps, lat 1.674 ms stddev 1.562<br><span class="hljs-keyword">progress: </span>1700.0 s, 47802.1 tps, lat 2.091 ms stddev 2.282<br><span class="hljs-keyword">progress: </span>1710.0 s, 48480.7 tps, lat 2.063 ms stddev 2.257<br><span class="hljs-keyword">progress: </span>1720.0 s, 55681.2 tps, lat 1.796 ms stddev 4.953<br><span class="hljs-keyword">progress: </span>1730.0 s, 59187.8 tps, lat 1.689 ms stddev 1.544<br><span class="hljs-keyword">progress: </span>1740.0 s, 59024.4 tps, lat 1.694 ms stddev 1.577<br><span class="hljs-keyword">progress: </span>1750.0 s, 59269.3 tps, lat 1.680 ms stddev 1.536<br><span class="hljs-keyword">progress: </span>1760.0 s, 59020.6 tps, lat 1.600 ms stddev 1.427<br><span class="hljs-keyword">progress: </span>1770.0 s, 55363.2 tps, lat 1.478 ms stddev 4.402<br>transaction type: &lt;builtin: simple update&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 100<br>number of threads: 100<br>number of transactions per client: 1000000<br>number of transactions actually processed: 100000000/100000000<br>latency average = 1.774 ms<br>latency stddev = 2.806 ms<br>initial connection time = 26.645 ms<br>tps = 55906.078405 (without initial connection time)<br><br>real 29m48.904s<br>user 34m34.600s<br>sys 84m14.092s<br></code></pre></td></tr></table></figure><h1 id="PG95-real-0m49-176s"><a href="#PG95-real-0m49-176s" class="headerlink" title="PG95 - real 0m49.176s"></a>PG95 - real 0m49.176s</h1><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs routeros">[root@pgdb1 /<span class="hljs-builtin-name">export</span>]# time /opt/pg14/bin/pgbench -i -s 200 -p 9532 -Upostgres pgbench<br>dropping old tables<span class="hljs-built_in">..</span>.<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_accounts&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_branches&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_history&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_tellers&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>creating tables<span class="hljs-built_in">..</span>.<br>generating data (client-side)<span class="hljs-built_in">..</span>.<br>20000000 of 20000000 tuples (100%) done (elapsed 22.59 s, remaining 0.00 s)<br>vacuuming<span class="hljs-built_in">..</span>.<br>creating primary keys<span class="hljs-built_in">..</span>.<br>done <span class="hljs-keyword">in</span> 47.24 s (drop tables 0.00 s, create tables 0.00 s, client-side generate 22.92 s, vacuum 14.75 s, primary keys 9.56 s).<br><br>real    0m47.246s<br>user    0m6.309s<br>sys    0m0.139s<br></code></pre></td></tr></table></figure><h2 id="select-only-3"><a href="#select-only-3" class="headerlink" title="select-only"></a>select-only</h2><h3 id="100客户端-6"><a href="#100客户端-6" class="headerlink" title="100客户端"></a>100客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 100 -j 100 -M prepared -T30 -p 9532 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.5.25)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 402666.7 tps, lat 0.246 ms stddev 0.161<br><span class="hljs-keyword">progress: </span>6.0 s, 457226.6 tps, lat 0.219 ms stddev 0.097<br><span class="hljs-keyword">progress: </span>9.0 s, 471956.9 tps, lat 0.212 ms stddev 0.090<br><span class="hljs-keyword">progress: </span>12.0 s, 480718.4 tps, lat 0.208 ms stddev 0.088<br><span class="hljs-keyword">progress: </span>15.0 s, 485416.5 tps, lat 0.206 ms stddev 0.087<br><span class="hljs-keyword">progress: </span>18.0 s, 483925.9 tps, lat 0.206 ms stddev 0.095<br><span class="hljs-keyword">progress: </span>21.0 s, 484688.9 tps, lat 0.206 ms stddev 0.112<br><span class="hljs-keyword">progress: </span>24.0 s, 487899.0 tps, lat 0.205 ms stddev 0.110<br><span class="hljs-keyword">progress: </span>27.0 s, 482578.0 tps, lat 0.207 ms stddev 0.124<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 100<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 14152928<br>latency average = 0.212 ms<br>latency stddev = 0.111 ms<br>initial connection time = 30.185 ms<br>tps = 472027.311753 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="200客户端-4"><a href="#200客户端-4" class="headerlink" title="200客户端"></a>200客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 200 -j 100 -M prepared -T30 -p 9532 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.5.25)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 362536.9 tps, lat 0.542 ms stddev 0.445<br><span class="hljs-keyword">progress: </span>6.0 s, 406930.0 tps, lat 0.491 ms stddev 0.138<br><span class="hljs-keyword">progress: </span>9.0 s, 422267.9 tps, lat 0.473 ms stddev 0.128<br><span class="hljs-keyword">progress: </span>12.0 s, 431696.4 tps, lat 0.463 ms stddev 0.135<br><span class="hljs-keyword">progress: </span>15.0 s, 433359.1 tps, lat 0.461 ms stddev 0.183<br><span class="hljs-keyword">progress: </span>18.0 s, 440413.6 tps, lat 0.454 ms stddev 0.157<br><span class="hljs-keyword">progress: </span>21.0 s, 444368.4 tps, lat 0.450 ms stddev 0.148<br><span class="hljs-keyword">progress: </span>24.0 s, 446237.9 tps, lat 0.448 ms stddev 0.158<br><span class="hljs-keyword">progress: </span>27.0 s, 447760.8 tps, lat 0.446 ms stddev 0.164<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 200<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 12856668<br>latency average = 0.465 ms<br>latency stddev = 0.197 ms<br>initial connection time = 51.145 ms<br>tps = 429253.422981 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="500客户端-4"><a href="#500客户端-4" class="headerlink" title="500客户端"></a>500客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 500 -j 100 -M prepared -T30 -p 9532 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.5.25)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 264603.6 tps, lat 1.813 ms stddev 1.933<br><span class="hljs-keyword">progress: </span>6.0 s, 305051.3 tps, lat 1.639 ms stddev 0.361<br><span class="hljs-keyword">progress: </span>9.0 s, 315961.1 tps, lat 1.582 ms stddev 0.371<br><span class="hljs-keyword">progress: </span>12.0 s, 322587.8 tps, lat 1.549 ms stddev 0.357<br><span class="hljs-keyword">progress: </span>15.0 s, 328220.0 tps, lat 1.523 ms stddev 0.354<br><span class="hljs-keyword">progress: </span>18.0 s, 331911.3 tps, lat 1.506 ms stddev 0.354<br><span class="hljs-keyword">progress: </span>21.0 s, 335653.9 tps, lat 1.489 ms stddev 0.344<br><span class="hljs-keyword">progress: </span>24.0 s, 338014.3 tps, lat 1.479 ms stddev 0.344<br><span class="hljs-keyword">progress: </span>27.0 s, 340597.1 tps, lat 1.467 ms stddev 0.338<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 500<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 9673846<br>latency average = 1.544 ms<br>latency stddev = 0.655 ms<br>initial connection time = 113.866 ms<br>tps = 323483.915030 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="800客户端-4"><a href="#800客户端-4" class="headerlink" title="800客户端"></a>800客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 800 -j 100 -M prepared -T30 -p 9532 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.5.25)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 221481.8 tps, lat 3.376 ms stddev 5.530<br><span class="hljs-keyword">progress: </span>6.0 s, 254889.7 tps, lat 3.138 ms stddev 0.679<br><span class="hljs-keyword">progress: </span>9.0 s, 263297.5 tps, lat 3.038 ms stddev 0.705<br><span class="hljs-keyword">progress: </span>12.0 s, 269496.4 tps, lat 2.968 ms stddev 0.683<br><span class="hljs-keyword">progress: </span>15.0 s, 274382.0 tps, lat 2.915 ms stddev 0.658<br><span class="hljs-keyword">progress: </span>18.0 s, 277648.1 tps, lat 2.881 ms stddev 0.682<br><span class="hljs-keyword">progress: </span>21.0 s, 279637.9 tps, lat 2.860 ms stddev 0.681<br><span class="hljs-keyword">progress: </span>24.0 s, 281721.7 tps, lat 2.839 ms stddev 0.645<br><span class="hljs-keyword">progress: </span>27.0 s, 284413.4 tps, lat 2.812 ms stddev 0.640<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 800<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 8078741<br>latency average = 2.951 ms<br>latency stddev = 1.719 ms<br>initial connection time = 179.004 ms<br>tps = 270830.496378 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="1000客户端-4"><a href="#1000客户端-4" class="headerlink" title="1000客户端"></a>1000客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 1000 -j 100 -M prepared -T30 -p 9532 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.5.25)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 203926.6 tps, lat 4.492 ms stddev 7.065<br><span class="hljs-keyword">progress: </span>6.0 s, 238908.1 tps, lat 4.185 ms stddev 0.738<br><span class="hljs-keyword">progress: </span>9.0 s, 245743.5 tps, lat 4.067 ms stddev 1.413<br><span class="hljs-keyword">progress: </span>12.0 s, 251672.9 tps, lat 3.974 ms stddev 1.871<br><span class="hljs-keyword">progress: </span>15.0 s, 256836.5 tps, lat 3.893 ms stddev 0.807<br><span class="hljs-keyword">progress: </span>18.0 s, 259951.0 tps, lat 3.846 ms stddev 0.735<br><span class="hljs-keyword">progress: </span>21.0 s, 262578.3 tps, lat 3.808 ms stddev 0.725<br><span class="hljs-keyword">progress: </span>24.0 s, 264673.5 tps, lat 3.778 ms stddev 0.721<br><span class="hljs-keyword">progress: </span>27.0 s, 265374.8 tps, lat 3.767 ms stddev 0.734<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 1000<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 7546930<br>latency average = 3.941 ms<br>latency stddev = 2.244 ms<br>initial connection time = 227.066 ms<br>tps = 253298.167735 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="1500客户端-4"><a href="#1500客户端-4" class="headerlink" title="1500客户端"></a>1500客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 1500 -j 100 -M prepared -T30 -p 9532 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.5.25)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 183767.8 tps, lat 7.137 ms stddev 25.004<br><span class="hljs-keyword">progress: </span>6.0 s, 219733.0 tps, lat 6.826 ms stddev 0.810<br><span class="hljs-keyword">progress: </span>9.0 s, 223383.3 tps, lat 6.714 ms stddev 4.055<br><span class="hljs-keyword">progress: </span>12.0 s, 228285.8 tps, lat 6.570 ms stddev 3.318<br><span class="hljs-keyword">progress: </span>15.0 s, 232171.5 tps, lat 6.458 ms stddev 2.682<br><span class="hljs-keyword">progress: </span>18.0 s, 235156.4 tps, lat 6.380 ms stddev 2.452<br><span class="hljs-keyword">progress: </span>21.0 s, 237489.6 tps, lat 6.315 ms stddev 1.833<br><span class="hljs-keyword">progress: </span>24.0 s, 239854.9 tps, lat 6.253 ms stddev 0.946<br><span class="hljs-keyword">progress: </span>27.0 s, 241667.3 tps, lat 6.206 ms stddev 0.887<br><span class="hljs-keyword">progress: </span>30.0 s, 242747.4 tps, lat 6.178 ms stddev 0.890<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 1500<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 6853246<br>latency average = 6.484 ms<br>latency stddev = 7.423 ms<br>initial connection time = 341.944 ms<br>tps = 230675.735480 (without initial connection time)<br></code></pre></td></tr></table></figure><h2 id="simple-update-4"><a href="#simple-update-4" class="headerlink" title="simple-update"></a>simple-update</h2><h3 id="100客户端-7"><a href="#100客户端-7" class="headerlink" title="100客户端"></a>100客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$ time /opt/pg14/bin/pgbench -N -c 100 -j 100 -M prepared -t 1000000 -p 9532 -h pgdb1 -Upostgres -P 10 pgbench<br>pgbench (14.1, server 9.5.25)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>10.0 s, 57943.0 tps, lat 1.721 ms stddev 1.456<br><span class="hljs-keyword">progress: </span>20.0 s, 60352.3 tps, lat 1.657 ms stddev 1.424<br><span class="hljs-keyword">progress: </span>30.0 s, 58739.5 tps, lat 1.702 ms stddev 1.488<br><span class="hljs-keyword">progress: </span>40.0 s, 47057.7 tps, lat 2.125 ms stddev 14.551<br><span class="hljs-keyword">progress: </span>50.0 s, 49378.4 tps, lat 2.025 ms stddev 11.347<br><span class="hljs-keyword">progress: </span>60.0 s, 48406.3 tps, lat 2.066 ms stddev 11.136<br><span class="hljs-keyword">progress: </span>70.0 s, 50582.6 tps, lat 1.977 ms stddev 9.238<br><span class="hljs-keyword">progress: </span>80.0 s, 50254.4 tps, lat 1.876 ms stddev 8.428<br><span class="hljs-keyword">progress: </span>90.0 s, 49533.6 tps, lat 2.134 ms stddev 15.579<br><span class="hljs-keyword">progress: </span>100.0 s, 46090.6 tps, lat 2.169 ms stddev 13.688<br><span class="hljs-keyword">progress: </span>110.0 s, 41250.6 tps, lat 2.424 ms stddev 24.056<br><span class="hljs-keyword">progress: </span>120.0 s, 48178.9 tps, lat 2.033 ms stddev 14.175<br><span class="hljs-keyword">progress: </span>130.0 s, 56464.1 tps, lat 1.807 ms stddev 10.161<br><span class="hljs-keyword">progress: </span>140.0 s, 53958.4 tps, lat 1.853 ms stddev 14.286<br><span class="hljs-keyword">progress: </span>150.0 s, 59253.9 tps, lat 1.687 ms stddev 5.771<br><span class="hljs-keyword">progress: </span>160.0 s, 54676.6 tps, lat 1.829 ms stddev 12.242<br><span class="hljs-keyword">progress: </span>170.0 s, 51950.7 tps, lat 1.925 ms stddev 11.423<br><span class="hljs-keyword">progress: </span>180.0 s, 48995.7 tps, lat 2.041 ms stddev 17.015<br>...<br><span class="hljs-keyword">progress: </span>1830.0 s, 62316.9 tps, lat 1.605 ms stddev 1.406<br><span class="hljs-keyword">progress: </span>1840.0 s, 62240.1 tps, lat 1.606 ms stddev 1.416<br><span class="hljs-keyword">progress: </span>1850.0 s, 62706.9 tps, lat 1.595 ms stddev 1.393<br><span class="hljs-keyword">progress: </span>1860.0 s, 62863.3 tps, lat 1.591 ms stddev 1.421<br><span class="hljs-keyword">progress: </span>1870.0 s, 62507.5 tps, lat 1.594 ms stddev 1.397<br><span class="hljs-keyword">progress: </span>1880.0 s, 62873.0 tps, lat 1.574 ms stddev 1.378<br><span class="hljs-keyword">progress: </span>1890.0 s, 62127.6 tps, lat 1.531 ms stddev 1.335<br><span class="hljs-keyword">progress: </span>1900.0 s, 63309.6 tps, lat 1.376 ms stddev 1.086<br><span class="hljs-keyword">progress: </span>1910.0 s, 63248.6 tps, lat 1.230 ms stddev 0.935<br><span class="hljs-keyword">progress: </span>1920.0 s, 63647.9 tps, lat 0.925 ms stddev 0.508<br>transaction type: &lt;builtin: simple update&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 100<br>number of threads: 100<br>number of transactions per client: 1000000<br>number of transactions actually processed: 100000000/100000000<br>latency average = 1.916 ms<br>latency stddev = 15.236 ms<br>initial connection time = 28.854 ms<br>tps = 51545.741187 (without initial connection time)<br><br>real 32m20.111s<br>user 35m36.047s<br>sys 85m6.218s<br></code></pre></td></tr></table></figure><h1 id="PG96-real-0m47-363s"><a href="#PG96-real-0m47-363s" class="headerlink" title="PG96 - real 0m47.363s"></a>PG96 - real 0m47.363s</h1><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs routeros">[root@pgdb1 /<span class="hljs-builtin-name">export</span>]# time /opt/pg14/bin/pgbench -i -s 200 -p 9632 -Upostgres pgbench<br>dropping old tables<span class="hljs-built_in">..</span>.<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_accounts&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_branches&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_history&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_tellers&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>creating tables<span class="hljs-built_in">..</span>.<br>generating data (client-side)<span class="hljs-built_in">..</span>.<br>20000000 of 20000000 tuples (100%) done (elapsed 22.28 s, remaining 0.00 s)<br>vacuuming<span class="hljs-built_in">..</span>.<br>creating primary keys<span class="hljs-built_in">..</span>.<br>done <span class="hljs-keyword">in</span> 47.36 s (drop tables 0.00 s, create tables 0.01 s, client-side generate 22.43 s, vacuum 15.97 s, primary keys 8.95 s).<br><br>real    0m47.363s<br>user    0m6.301s<br>sys    0m0.146s<br></code></pre></td></tr></table></figure><h2 id="select-only-4"><a href="#select-only-4" class="headerlink" title="select-only"></a>select-only</h2><h3 id="100客户端-8"><a href="#100客户端-8" class="headerlink" title="100客户端"></a>100客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 100 -j 100 -M prepared -T30 -p 9632 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.6.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 417630.9 tps, lat 0.237 ms stddev 0.135<br><span class="hljs-keyword">progress: </span>6.0 s, 468339.7 tps, lat 0.213 ms stddev 0.069<br><span class="hljs-keyword">progress: </span>9.0 s, 489486.3 tps, lat 0.204 ms stddev 0.066<br><span class="hljs-keyword">progress: </span>12.0 s, 500762.8 tps, lat 0.200 ms stddev 0.060<br><span class="hljs-keyword">progress: </span>15.0 s, 507218.8 tps, lat 0.197 ms stddev 0.058<br><span class="hljs-keyword">progress: </span>18.0 s, 511226.6 tps, lat 0.195 ms stddev 0.060<br><span class="hljs-keyword">progress: </span>21.0 s, 513939.7 tps, lat 0.194 ms stddev 0.063<br><span class="hljs-keyword">progress: </span>24.0 s, 517708.5 tps, lat 0.193 ms stddev 0.060<br><span class="hljs-keyword">progress: </span>27.0 s, 518688.6 tps, lat 0.193 ms stddev 0.060<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 100<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 14890731<br>latency average = 0.201 ms<br>latency stddev = 0.073 ms<br>initial connection time = 32.025 ms<br>tps = 496649.084018 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="200客户端-5"><a href="#200客户端-5" class="headerlink" title="200客户端"></a>200客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 200 -j 100 -M prepared -T30 -p 9632 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.6.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 370212.8 tps, lat 0.531 ms stddev 0.420<br><span class="hljs-keyword">progress: </span>6.0 s, 417903.1 tps, lat 0.478 ms stddev 0.114<br><span class="hljs-keyword">progress: </span>9.0 s, 436541.8 tps, lat 0.458 ms stddev 0.109<br><span class="hljs-keyword">progress: </span>12.0 s, 446730.3 tps, lat 0.447 ms stddev 0.145<br><span class="hljs-keyword">progress: </span>15.0 s, 454509.1 tps, lat 0.440 ms stddev 0.166<br><span class="hljs-keyword">progress: </span>18.0 s, 464078.5 tps, lat 0.431 ms stddev 0.136<br><span class="hljs-keyword">progress: </span>21.0 s, 469402.8 tps, lat 0.426 ms stddev 0.128<br><span class="hljs-keyword">progress: </span>24.0 s, 469335.8 tps, lat 0.426 ms stddev 0.158<br><span class="hljs-keyword">progress: </span>27.0 s, 476661.2 tps, lat 0.419 ms stddev 0.132<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 200<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 13444808<br>latency average = 0.445 ms<br>latency stddev = 0.182 ms<br>initial connection time = 53.935 ms<br>tps = 448928.383130 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="500客户端-5"><a href="#500客户端-5" class="headerlink" title="500客户端"></a>500客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 500 -j 100 -M prepared -T30 -p 9632 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.6.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 264998.7 tps, lat 1.799 ms stddev 2.103<br><span class="hljs-keyword">progress: </span>6.0 s, 301350.5 tps, lat 1.659 ms stddev 0.355<br><span class="hljs-keyword">progress: </span>9.0 s, 312982.4 tps, lat 1.597 ms stddev 0.345<br><span class="hljs-keyword">progress: </span>12.0 s, 319533.7 tps, lat 1.564 ms stddev 0.312<br><span class="hljs-keyword">progress: </span>15.0 s, 323903.5 tps, lat 1.543 ms stddev 0.336<br><span class="hljs-keyword">progress: </span>18.0 s, 327953.6 tps, lat 1.524 ms stddev 0.326<br><span class="hljs-keyword">progress: </span>21.0 s, 331418.2 tps, lat 1.508 ms stddev 0.313<br><span class="hljs-keyword">progress: </span>24.0 s, 333468.4 tps, lat 1.499 ms stddev 0.339<br><span class="hljs-keyword">progress: </span>27.0 s, 337104.4 tps, lat 1.483 ms stddev 0.314<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 500<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 9574234<br>latency average = 1.559 ms<br>latency stddev = 0.689 ms<br>initial connection time = 129.612 ms<br>tps = 320402.064980 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="800客户端-5"><a href="#800客户端-5" class="headerlink" title="800客户端"></a>800客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 800 -j 100 -M prepared -T30 -p 9632 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.6.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 224163.7 tps, lat 3.327 ms stddev 5.654<br><span class="hljs-keyword">progress: </span>6.0 s, 255820.8 tps, lat 3.127 ms stddev 0.567<br><span class="hljs-keyword">progress: </span>9.0 s, 264441.5 tps, lat 3.025 ms stddev 0.579<br><span class="hljs-keyword">progress: </span>12.0 s, 268994.8 tps, lat 2.973 ms stddev 0.584<br><span class="hljs-keyword">progress: </span>15.0 s, 272868.0 tps, lat 2.931 ms stddev 0.575<br><span class="hljs-keyword">progress: </span>18.0 s, 276189.7 tps, lat 2.896 ms stddev 0.575<br><span class="hljs-keyword">progress: </span>21.0 s, 277952.4 tps, lat 2.877 ms stddev 0.576<br><span class="hljs-keyword">progress: </span>24.0 s, 280003.9 tps, lat 2.857 ms stddev 0.579<br><span class="hljs-keyword">progress: </span>27.0 s, 282238.5 tps, lat 2.834 ms stddev 0.578<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 800<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 8060907<br>latency average = 2.956 ms<br>latency stddev = 1.730 ms<br>initial connection time = 186.241 ms<br>tps = 270013.223465 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="1000客户端-5"><a href="#1000客户端-5" class="headerlink" title="1000客户端"></a>1000客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 1000 -j 100 -M prepared -T30 -p 9632 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.6.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 212903.2 tps, lat 4.289 ms stddev 11.428<br><span class="hljs-keyword">progress: </span>6.0 s, 241783.7 tps, lat 4.135 ms stddev 0.660<br><span class="hljs-keyword">progress: </span>9.0 s, 245862.4 tps, lat 4.066 ms stddev 2.071<br><span class="hljs-keyword">progress: </span>12.0 s, 251381.6 tps, lat 3.977 ms stddev 1.351<br><span class="hljs-keyword">progress: </span>15.0 s, 256684.0 tps, lat 3.896 ms stddev 0.924<br><span class="hljs-keyword">progress: </span>18.0 s, 259464.6 tps, lat 3.853 ms stddev 0.668<br><span class="hljs-keyword">progress: </span>21.0 s, 261465.2 tps, lat 3.824 ms stddev 0.649<br><span class="hljs-keyword">progress: </span>24.0 s, 262841.2 tps, lat 3.804 ms stddev 0.693<br><span class="hljs-keyword">progress: </span>27.0 s, 264341.1 tps, lat 3.782 ms stddev 0.676<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 1000<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 7570464<br>latency average = 3.928 ms<br>latency stddev = 3.465 ms<br>initial connection time = 240.746 ms<br>tps = 254268.433441 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="1500客户端-5"><a href="#1500客户端-5" class="headerlink" title="1500客户端"></a>1500客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 1500 -j 100 -M prepared -T30 -p 9632 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 9.6.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 191988.6 tps, lat 6.797 ms stddev 28.137<br><span class="hljs-keyword">progress: </span>6.0 s, 222398.9 tps, lat 6.744 ms stddev 0.769<br><span class="hljs-keyword">progress: </span>9.0 s, 225125.2 tps, lat 6.661 ms stddev 3.749<br><span class="hljs-keyword">progress: </span>12.0 s, 229516.3 tps, lat 6.535 ms stddev 3.619<br><span class="hljs-keyword">progress: </span>15.0 s, 233661.4 tps, lat 6.419 ms stddev 3.018<br><span class="hljs-keyword">progress: </span>18.0 s, 236596.0 tps, lat 6.340 ms stddev 2.555<br><span class="hljs-keyword">progress: </span>21.0 s, 239240.6 tps, lat 6.270 ms stddev 1.721<br><span class="hljs-keyword">progress: </span>24.0 s, 240856.4 tps, lat 6.227 ms stddev 1.472<br><span class="hljs-keyword">progress: </span>27.0 s, 242513.3 tps, lat 6.184 ms stddev 1.482<br><span class="hljs-keyword">progress: </span>30.0 s, 243635.7 tps, lat 6.156 ms stddev 0.824<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 1500<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 6917035<br>latency average = 6.421 ms<br>latency stddev = 8.434 ms<br>initial connection time = 357.844 ms<br>tps = 233188.907748 (without initial connection time)<br></code></pre></td></tr></table></figure><h2 id="simple-update-5"><a href="#simple-update-5" class="headerlink" title="simple-update"></a>simple-update</h2><h3 id="100客户端-9"><a href="#100客户端-9" class="headerlink" title="100客户端"></a>100客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$ time /opt/pg14/bin/pgbench -N -c 100 -j 100 -M prepared -t 1000000 -p 9632 -h pgdb1 -Upostgres  -P 10 pgbench<br>pgbench (14.1, server 9.6.24)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>10.0 s, 79830.7 tps, lat 1.249 ms stddev 0.959<br><span class="hljs-keyword">progress: </span>20.0 s, 85128.2 tps, lat 1.174 ms stddev 0.753<br><span class="hljs-keyword">progress: </span>30.0 s, 84588.0 tps, lat 1.182 ms stddev 0.639<br><span class="hljs-keyword">progress: </span>40.0 s, 84055.5 tps, lat 1.190 ms stddev 0.762<br><span class="hljs-keyword">progress: </span>50.0 s, 84938.2 tps, lat 1.177 ms stddev 0.645<br><span class="hljs-keyword">progress: </span>60.0 s, 85107.1 tps, lat 1.175 ms stddev 0.766<br><span class="hljs-keyword">progress: </span>70.0 s, 84583.7 tps, lat 1.182 ms stddev 0.731<br><span class="hljs-keyword">progress: </span>80.0 s, 86434.2 tps, lat 1.157 ms stddev 0.795<br><span class="hljs-keyword">progress: </span>90.0 s, 92122.6 tps, lat 1.085 ms stddev 0.940<br><span class="hljs-keyword">progress: </span>100.0 s, 84871.0 tps, lat 1.178 ms stddev 0.848<br><span class="hljs-keyword">progress: </span>110.0 s, 84354.6 tps, lat 1.185 ms stddev 0.727<br><span class="hljs-keyword">progress: </span>120.0 s, 84776.5 tps, lat 1.179 ms stddev 0.660<br><span class="hljs-keyword">progress: </span>130.0 s, 84771.0 tps, lat 1.179 ms stddev 0.554<br>...<br><span class="hljs-keyword">progress: </span>990.0 s, 95066.4 tps, lat 1.052 ms stddev 0.607<br><span class="hljs-keyword">progress: </span>1000.0 s, 97916.2 tps, lat 1.021 ms stddev 0.784<br><span class="hljs-keyword">progress: </span>1010.0 s, 90358.0 tps, lat 1.098 ms stddev 0.674<br><span class="hljs-keyword">progress: </span>1020.0 s, 87800.4 tps, lat 1.111 ms stddev 0.716<br><span class="hljs-keyword">progress: </span>1030.0 s, 87514.1 tps, lat 1.108 ms stddev 0.742<br><span class="hljs-keyword">progress: </span>1040.0 s, 87655.0 tps, lat 1.091 ms stddev 0.928<br><span class="hljs-keyword">progress: </span>1050.0 s, 85752.4 tps, lat 1.067 ms stddev 0.706<br><span class="hljs-keyword">progress: </span>1060.0 s, 85498.1 tps, lat 1.048 ms stddev 0.691<br><span class="hljs-keyword">progress: </span>1070.0 s, 85179.0 tps, lat 1.003 ms stddev 0.615<br><span class="hljs-keyword">progress: </span>1080.0 s, 84734.7 tps, lat 0.969 ms stddev 0.591<br><span class="hljs-keyword">progress: </span>1090.0 s, 83102.3 tps, lat 0.935 ms stddev 0.536<br><span class="hljs-keyword">progress: </span>1100.0 s, 80586.2 tps, lat 0.852 ms stddev 0.523<br><span class="hljs-keyword">progress: </span>1110.0 s, 79217.3 tps, lat 0.841 ms stddev 0.402<br><span class="hljs-keyword">progress: </span>1120.0 s, 78872.7 tps, lat 0.807 ms stddev 1.131<br><span class="hljs-keyword">progress: </span>1130.0 s, 76724.4 tps, lat 0.763 ms stddev 0.986<br><span class="hljs-keyword">progress: </span>1140.0 s, 75752.9 tps, lat 0.727 ms stddev 0.352<br><span class="hljs-keyword">progress: </span>1150.0 s, 72832.9 tps, lat 0.686 ms stddev 0.250<br><span class="hljs-keyword">progress: </span>1160.0 s, 66622.2 tps, lat 0.620 ms stddev 0.305<br><span class="hljs-keyword">progress: </span>1170.0 s, 47782.0 tps, lat 0.519 ms stddev 0.160<br><span class="hljs-keyword">progress: </span>1180.0 s, 41702.6 tps, lat 0.479 ms stddev 0.140<br><span class="hljs-keyword">progress: </span>1190.0 s, 34414.5 tps, lat 0.454 ms stddev 0.120<br>transaction type: &lt;builtin: simple update&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 100<br>number of threads: 100<br>number of transactions per client: 1000000<br>number of transactions actually processed: 100000000/100000000<br>latency average = 1.128 ms<br>latency stddev = 0.738 ms<br>initial connection time = 30.798 ms<br>tps = 83663.276826 (without initial connection time)<br><br>real    19m55.355s<br>user    40m1.148s<br>sys    90m59.427s<br></code></pre></td></tr></table></figure><h1 id="PG10-real-0m32-627s"><a href="#PG10-real-0m32-627s" class="headerlink" title="PG10  - real 0m32.627s"></a>PG10 - real 0m32.627s</h1><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs routeros">[root@pgdb1 /<span class="hljs-builtin-name">export</span>]# time /opt/pg14/bin/pgbench -i -s 200 -p 1032 -Upostgres pgbench<br>dropping old tables<span class="hljs-built_in">..</span>.<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_accounts&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_branches&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_history&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_tellers&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>creating tables<span class="hljs-built_in">..</span>.<br>generating data (client-side)<span class="hljs-built_in">..</span>.<br>20000000 of 20000000 tuples (100%) done (elapsed 20.52 s, remaining 0.00 s)<br>vacuuming<span class="hljs-built_in">..</span>.<br>creating primary keys<span class="hljs-built_in">..</span>.<br>done <span class="hljs-keyword">in</span> 32.62 s (drop tables 0.00 s, create tables 0.00 s, client-side generate 20.66 s, vacuum 3.26 s, primary keys 8.69 s).<br><br>real    0m32.627s<br>user    0m6.294s<br>sys    0m0.171s<br></code></pre></td></tr></table></figure><h2 id="select-only-5"><a href="#select-only-5" class="headerlink" title="select-only"></a>select-only</h2><h3 id="100客户端-10"><a href="#100客户端-10" class="headerlink" title="100客户端"></a>100客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 100 -j 100 -M prepared -T30 -p 1032 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 10.15)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 405874.0 tps, lat 0.244 ms stddev 0.157<br><span class="hljs-keyword">progress: </span>6.0 s, 462927.3 tps, lat 0.216 ms stddev 0.071<br><span class="hljs-keyword">progress: </span>9.0 s, 480786.2 tps, lat 0.208 ms stddev 0.066<br><span class="hljs-keyword">progress: </span>12.0 s, 491374.8 tps, lat 0.203 ms stddev 0.061<br><span class="hljs-keyword">progress: </span>15.0 s, 497835.0 tps, lat 0.201 ms stddev 0.060<br><span class="hljs-keyword">progress: </span>18.0 s, 502669.7 tps, lat 0.199 ms stddev 0.059<br><span class="hljs-keyword">progress: </span>21.0 s, 505782.0 tps, lat 0.198 ms stddev 0.061<br><span class="hljs-keyword">progress: </span>24.0 s, 508764.8 tps, lat 0.196 ms stddev 0.058<br><span class="hljs-keyword">progress: </span>27.0 s, 511241.5 tps, lat 0.195 ms stddev 0.060<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 100<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 14625361<br>latency average = 0.205 ms<br>latency stddev = 0.080 ms<br>initial connection time = 31.862 ms<br>tps = 487521.344991 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="200客户端-6"><a href="#200客户端-6" class="headerlink" title="200客户端"></a>200客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 200 -j 100 -M prepared -T30 -p 1032 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 10.15)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 364287.3 tps, lat 0.539 ms stddev 0.442<br><span class="hljs-keyword">progress: </span>6.0 s, 411390.5 tps, lat 0.486 ms stddev 0.109<br><span class="hljs-keyword">progress: </span>9.0 s, 428425.8 tps, lat 0.466 ms stddev 0.112<br><span class="hljs-keyword">progress: </span>12.0 s, 439849.5 tps, lat 0.454 ms stddev 0.105<br><span class="hljs-keyword">progress: </span>15.0 s, 448807.9 tps, lat 0.445 ms stddev 0.103<br><span class="hljs-keyword">progress: </span>18.0 s, 456491.5 tps, lat 0.438 ms stddev 0.096<br><span class="hljs-keyword">progress: </span>21.0 s, 461495.8 tps, lat 0.433 ms stddev 0.096<br><span class="hljs-keyword">progress: </span>24.0 s, 465447.0 tps, lat 0.429 ms stddev 0.095<br><span class="hljs-keyword">progress: </span>27.0 s, 469513.7 tps, lat 0.425 ms stddev 0.091<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 200<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 13249079<br>latency average = 0.452 ms<br>latency stddev = 0.163 ms<br>initial connection time = 52.950 ms<br>tps = 442063.014274 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="500客户端-6"><a href="#500客户端-6" class="headerlink" title="500客户端"></a>500客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 500 -j 100 -M prepared -T30 -p 1032 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 10.15)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 256560.3 tps, lat 1.861 ms stddev 2.334<br><span class="hljs-keyword">progress: </span>6.0 s, 292127.6 tps, lat 1.711 ms stddev 0.386<br><span class="hljs-keyword">progress: </span>9.0 s, 301917.7 tps, lat 1.656 ms stddev 0.377<br><span class="hljs-keyword">progress: </span>12.0 s, 309434.0 tps, lat 1.615 ms stddev 0.358<br><span class="hljs-keyword">progress: </span>15.0 s, 313225.2 tps, lat 1.596 ms stddev 0.370<br><span class="hljs-keyword">progress: </span>18.0 s, 316984.3 tps, lat 1.577 ms stddev 0.375<br><span class="hljs-keyword">progress: </span>21.0 s, 321050.5 tps, lat 1.557 ms stddev 0.336<br><span class="hljs-keyword">progress: </span>24.0 s, 322865.2 tps, lat 1.548 ms stddev 0.338<br><span class="hljs-keyword">progress: </span>27.0 s, 325437.7 tps, lat 1.536 ms stddev 0.363<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 500<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 9264622<br>latency average = 1.611 ms<br>latency stddev = 0.761 ms<br>initial connection time = 127.818 ms<br>tps = 309555.928664 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="800客户端-6"><a href="#800客户端-6" class="headerlink" title="800客户端"></a>800客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 800 -j 100 -M prepared -T30 -p 1032 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 10.15)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 214719.0 tps, lat 3.447 ms stddev 5.485<br><span class="hljs-keyword">progress: </span>6.0 s, 246844.6 tps, lat 3.240 ms stddev 0.559<br><span class="hljs-keyword">progress: </span>9.0 s, 254805.6 tps, lat 3.139 ms stddev 0.559<br><span class="hljs-keyword">progress: </span>12.0 s, 259924.6 tps, lat 3.077 ms stddev 0.562<br><span class="hljs-keyword">progress: </span>15.0 s, 262949.6 tps, lat 3.042 ms stddev 0.575<br><span class="hljs-keyword">progress: </span>18.0 s, 266335.2 tps, lat 3.003 ms stddev 0.577<br><span class="hljs-keyword">progress: </span>21.0 s, 267346.7 tps, lat 2.992 ms stddev 0.626<br><span class="hljs-keyword">progress: </span>24.0 s, 269011.1 tps, lat 2.973 ms stddev 0.613<br><span class="hljs-keyword">progress: </span>27.0 s, 270844.8 tps, lat 2.953 ms stddev 0.605<br><span class="hljs-keyword">progress: </span>30.0 s, 272292.5 tps, lat 2.936 ms stddev 0.608<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 800<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 7755292<br>latency average = 3.071 ms<br>latency stddev = 1.687 ms<br>initial connection time = 206.541 ms<br>tps = 258793.180878 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="1000客户端-6"><a href="#1000客户端-6" class="headerlink" title="1000客户端"></a>1000客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 1000 -j 100 -M prepared -T30 -p 1032 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 10.15)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 203884.4 tps, lat 4.464 ms stddev 12.298<br><span class="hljs-keyword">progress: </span>6.0 s, 232503.7 tps, lat 4.300 ms stddev 0.696<br><span class="hljs-keyword">progress: </span>9.0 s, 238919.3 tps, lat 4.185 ms stddev 0.709<br><span class="hljs-keyword">progress: </span>12.0 s, 243282.1 tps, lat 4.110 ms stddev 0.706<br><span class="hljs-keyword">progress: </span>15.0 s, 247117.2 tps, lat 4.046 ms stddev 0.700<br><span class="hljs-keyword">progress: </span>18.0 s, 249693.2 tps, lat 4.004 ms stddev 0.693<br><span class="hljs-keyword">progress: </span>21.0 s, 251199.2 tps, lat 3.980 ms stddev 0.714<br><span class="hljs-keyword">progress: </span>24.0 s, 252876.2 tps, lat 3.954 ms stddev 0.715<br><span class="hljs-keyword">progress: </span>27.0 s, 255156.3 tps, lat 3.919 ms stddev 0.715<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 1000<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 7295247<br>latency average = 4.075 ms<br>latency stddev = 3.628 ms<br>initial connection time = 246.108 ms<br>tps = 245005.573478 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="1500客户端-6"><a href="#1500客户端-6" class="headerlink" title="1500客户端"></a>1500客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 1500 -j 100 -M prepared -T30 -p 1032 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 10.15)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 183214.5 tps, lat 7.111 ms stddev 31.023<br><span class="hljs-keyword">progress: </span>6.0 s, 214247.6 tps, lat 7.001 ms stddev 0.705<br><span class="hljs-keyword">progress: </span>9.0 s, 219392.7 tps, lat 6.836 ms stddev 0.731<br><span class="hljs-keyword">progress: </span>12.0 s, 220792.8 tps, lat 6.791 ms stddev 2.803<br><span class="hljs-keyword">progress: </span>15.0 s, 223647.3 tps, lat 6.708 ms stddev 2.790<br><span class="hljs-keyword">progress: </span>18.0 s, 226458.0 tps, lat 6.623 ms stddev 2.009<br><span class="hljs-keyword">progress: </span>21.0 s, 228563.6 tps, lat 6.563 ms stddev 1.749<br><span class="hljs-keyword">progress: </span>24.0 s, 230223.8 tps, lat 6.514 ms stddev 0.889<br><span class="hljs-keyword">progress: </span>27.0 s, 231279.9 tps, lat 6.485 ms stddev 1.087<br><span class="hljs-keyword">progress: </span>30.0 s, 233027.8 tps, lat 6.436 ms stddev 0.837<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 1500<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 6633011<br>latency average = 6.696 ms<br>latency stddev = 9.105 ms<br>initial connection time = 358.248 ms<br>tps = 216328.484785 (without initial connection time)<br></code></pre></td></tr></table></figure><h2 id="simple-update-6"><a href="#simple-update-6" class="headerlink" title="simple-update"></a>simple-update</h2><h3 id="100客户端-11"><a href="#100客户端-11" class="headerlink" title="100客户端"></a>100客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$ time /opt/pg14/bin/pgbench -N -c 100 -j 100 -M prepared -t 1000000 -p 1032 -h pgdb1 -Upostgres -P 10 pgbench<br>pgbench (14.1, server 10.15)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>10.0 s, 79084.3 tps, lat 1.261 ms stddev 0.909<br><span class="hljs-keyword">progress: </span>20.0 s, 85157.9 tps, lat 1.174 ms stddev 0.589<br><span class="hljs-keyword">progress: </span>30.0 s, 85353.1 tps, lat 1.171 ms stddev 0.606<br><span class="hljs-keyword">progress: </span>40.0 s, 85189.7 tps, lat 1.174 ms stddev 0.690<br><span class="hljs-keyword">progress: </span>50.0 s, 85240.4 tps, lat 1.173 ms stddev 0.715<br><span class="hljs-keyword">progress: </span>60.0 s, 86855.8 tps, lat 1.151 ms stddev 0.818<br><span class="hljs-keyword">progress: </span>70.0 s, 87685.4 tps, lat 1.140 ms stddev 0.751<br><span class="hljs-keyword">progress: </span>80.0 s, 85363.1 tps, lat 1.171 ms stddev 0.548<br><span class="hljs-keyword">progress: </span>90.0 s, 85118.5 tps, lat 1.175 ms stddev 0.660<br><span class="hljs-keyword">progress: </span>100.0 s, 84727.1 tps, lat 1.180 ms stddev 0.773<br><span class="hljs-keyword">progress: </span>110.0 s, 84954.4 tps, lat 1.177 ms stddev 0.649<br><span class="hljs-keyword">progress: </span>120.0 s, 83604.5 tps, lat 1.196 ms stddev 0.702<br><span class="hljs-keyword">progress: </span>130.0 s, 83804.4 tps, lat 1.193 ms stddev 0.626<br><span class="hljs-keyword">progress: </span>140.0 s, 84129.2 tps, lat 1.188 ms stddev 0.675<br><span class="hljs-keyword">progress: </span>150.0 s, 84316.8 tps, lat 1.186 ms stddev 0.584<br><span class="hljs-keyword">progress: </span>160.0 s, 84175.7 tps, lat 1.188 ms stddev 0.611<br><span class="hljs-keyword">progress: </span>170.0 s, 83606.7 tps, lat 1.196 ms stddev 0.694<br><span class="hljs-keyword">progress: </span>180.0 s, 82636.5 tps, lat 1.210 ms stddev 0.717<br><span class="hljs-keyword">progress: </span>190.0 s, 82380.7 tps, lat 1.214 ms stddev 0.705<br>...<br><span class="hljs-keyword">progress: </span>930.0 s, 80926.6 tps, lat 1.236 ms stddev 0.734<br><span class="hljs-keyword">progress: </span>940.0 s, 80815.3 tps, lat 1.237 ms stddev 0.797<br><span class="hljs-keyword">progress: </span>950.0 s, 80840.8 tps, lat 1.237 ms stddev 0.627<br><span class="hljs-keyword">progress: </span>960.0 s, 84254.1 tps, lat 1.187 ms stddev 0.715<br><span class="hljs-keyword">progress: </span>970.0 s, 94763.1 tps, lat 1.049 ms stddev 0.680<br><span class="hljs-keyword">progress: </span>980.0 s, 87355.1 tps, lat 1.132 ms stddev 0.808<br><span class="hljs-keyword">progress: </span>990.0 s, 80482.9 tps, lat 1.214 ms stddev 0.725<br><span class="hljs-keyword">progress: </span>1000.0 s, 80473.8 tps, lat 1.194 ms stddev 0.613<br><span class="hljs-keyword">progress: </span>1010.0 s, 79354.8 tps, lat 1.202 ms stddev 1.576<br><span class="hljs-keyword">progress: </span>1020.0 s, 78874.2 tps, lat 1.192 ms stddev 0.710<br><span class="hljs-keyword">progress: </span>1030.0 s, 79879.2 tps, lat 1.177 ms stddev 0.619<br><span class="hljs-keyword">progress: </span>1040.0 s, 79438.0 tps, lat 1.167 ms stddev 0.911<br><span class="hljs-keyword">progress: </span>1050.0 s, 79411.9 tps, lat 1.152 ms stddev 0.642<br><span class="hljs-keyword">progress: </span>1060.0 s, 79237.5 tps, lat 1.147 ms stddev 0.710<br><span class="hljs-keyword">progress: </span>1070.0 s, 79049.7 tps, lat 1.124 ms stddev 0.716<br><span class="hljs-keyword">progress: </span>1080.0 s, 77444.1 tps, lat 1.102 ms stddev 0.623<br><span class="hljs-keyword">progress: </span>1090.0 s, 78113.1 tps, lat 1.066 ms stddev 0.549<br><span class="hljs-keyword">progress: </span>1100.0 s, 74582.1 tps, lat 1.047 ms stddev 1.140<br><span class="hljs-keyword">progress: </span>1110.0 s, 76263.6 tps, lat 0.989 ms stddev 0.515<br><span class="hljs-keyword">progress: </span>1120.0 s, 73365.8 tps, lat 0.932 ms stddev 1.827<br><span class="hljs-keyword">progress: </span>1130.0 s, 73259.6 tps, lat 0.862 ms stddev 0.515<br>transaction type: &lt;builtin: simple update&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 100<br>number of threads: 100<br>number of transactions per client: 1000000<br>number of transactions actually processed: 100000000/100000000<br>latency average = 1.164 ms<br>latency stddev = 0.769 ms<br>initial connection time = 30.893 ms<br>tps = 79968.069773 (without initial connection time)<br><br>real 20m50.590s<br>user 38m58.793s<br>sys 90m30.580s<br></code></pre></td></tr></table></figure><h1 id="PG11-real-0m32-118s"><a href="#PG11-real-0m32-118s" class="headerlink" title="PG11  - real 0m32.118s"></a>PG11 - real 0m32.118s</h1><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs routeros">[root@pgdb1 /<span class="hljs-builtin-name">export</span>]# time /opt/pg14/bin/pgbench -i -s 200 -p 1132 -Upostgres pgbench<br>dropping old tables<span class="hljs-built_in">..</span>.<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_accounts&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_branches&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_history&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_tellers&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>creating tables<span class="hljs-built_in">..</span>.<br>generating data (client-side)<span class="hljs-built_in">..</span>.<br>20000000 of 20000000 tuples (100%) done (elapsed 18.76 s, remaining 0.00 s)<br>vacuuming<span class="hljs-built_in">..</span>.<br>creating primary keys<span class="hljs-built_in">..</span>.<br>done <span class="hljs-keyword">in</span> 28.14 s (drop tables 0.00 s, create tables 0.01 s, client-side generate 18.88 s, vacuum 3.13 s, primary keys 6.11 s).<br><br>real    0m28.144s<br>user    0m6.313s<br>sys    0m0.135s<br></code></pre></td></tr></table></figure><h2 id="select-only-6"><a href="#select-only-6" class="headerlink" title="select-only"></a>select-only</h2><h3 id="100客户端-12"><a href="#100客户端-12" class="headerlink" title="100客户端"></a>100客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 100 -j 100 -M prepared -T30 -p 1132 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 11.13)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 435407.0 tps, lat 0.228 ms stddev 0.151<br><span class="hljs-keyword">progress: </span>6.0 s, 497467.3 tps, lat 0.201 ms stddev 0.075<br><span class="hljs-keyword">progress: </span>9.0 s, 506835.7 tps, lat 0.197 ms stddev 0.112<br><span class="hljs-keyword">progress: </span>12.0 s, 517985.9 tps, lat 0.193 ms stddev 0.098<br><span class="hljs-keyword">progress: </span>15.0 s, 522941.2 tps, lat 0.191 ms stddev 0.104<br><span class="hljs-keyword">progress: </span>18.0 s, 523341.9 tps, lat 0.191 ms stddev 0.109<br><span class="hljs-keyword">progress: </span>21.0 s, 535553.3 tps, lat 0.187 ms stddev 0.065<br><span class="hljs-keyword">progress: </span>24.0 s, 538820.9 tps, lat 0.185 ms stddev 0.061<br><span class="hljs-keyword">progress: </span>27.0 s, 539442.3 tps, lat 0.185 ms stddev 0.080<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 100<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 15479407<br>latency average = 0.193 ms<br>latency stddev = 0.095 ms<br>initial connection time = 30.157 ms<br>tps = 516257.515245 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="200客户端-7"><a href="#200客户端-7" class="headerlink" title="200客户端"></a>200客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 200 -j 100 -M prepared -T30 -p 1132 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 11.13)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 388608.4 tps, lat 0.505 ms stddev 0.430<br><span class="hljs-keyword">progress: </span>6.0 s, 439497.6 tps, lat 0.455 ms stddev 0.139<br><span class="hljs-keyword">progress: </span>9.0 s, 461386.2 tps, lat 0.433 ms stddev 0.100<br><span class="hljs-keyword">progress: </span>12.0 s, 471133.0 tps, lat 0.424 ms stddev 0.119<br><span class="hljs-keyword">progress: </span>15.0 s, 481392.3 tps, lat 0.415 ms stddev 0.099<br><span class="hljs-keyword">progress: </span>18.0 s, 487748.7 tps, lat 0.410 ms stddev 0.095<br><span class="hljs-keyword">progress: </span>21.0 s, 492547.0 tps, lat 0.406 ms stddev 0.095<br><span class="hljs-keyword">progress: </span>24.0 s, 495091.2 tps, lat 0.403 ms stddev 0.101<br><span class="hljs-keyword">progress: </span>27.0 s, 499119.5 tps, lat 0.400 ms stddev 0.092<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 200<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 14150356<br>latency average = 0.423 ms<br>latency stddev = 0.162 ms<br>initial connection time = 56.416 ms<br>tps = 472281.037996 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="500客户端-7"><a href="#500客户端-7" class="headerlink" title="500客户端"></a>500客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 500 -j 100 -M prepared -T30 -p 1132 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 11.13)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 276734.3 tps, lat 1.726 ms stddev 2.123<br><span class="hljs-keyword">progress: </span>6.0 s, 315898.1 tps, lat 1.582 ms stddev 0.322<br><span class="hljs-keyword">progress: </span>9.0 s, 327829.8 tps, lat 1.525 ms stddev 0.309<br><span class="hljs-keyword">progress: </span>12.0 s, 334708.6 tps, lat 1.493 ms stddev 0.305<br><span class="hljs-keyword">progress: </span>15.0 s, 337234.4 tps, lat 1.482 ms stddev 0.365<br><span class="hljs-keyword">progress: </span>18.0 s, 341085.8 tps, lat 1.465 ms stddev 0.376<br><span class="hljs-keyword">progress: </span>21.0 s, 345897.0 tps, lat 1.445 ms stddev 0.351<br><span class="hljs-keyword">progress: </span>24.0 s, 349741.8 tps, lat 1.429 ms stddev 0.330<br><span class="hljs-keyword">progress: </span>27.0 s, 350355.7 tps, lat 1.426 ms stddev 0.363<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 500<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 9994189<br>latency average = 1.493 ms<br>latency stddev = 0.700 ms<br>initial connection time = 124.744 ms<br>tps = 333882.968115 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="800客户端-7"><a href="#800客户端-7" class="headerlink" title="800客户端"></a>800客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 800 -j 100 -M prepared -T30 -p 1132 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 11.13)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 230953.2 tps, lat 3.217 ms stddev 5.453<br><span class="hljs-keyword">progress: </span>6.0 s, 264985.8 tps, lat 3.018 ms stddev 0.567<br><span class="hljs-keyword">progress: </span>9.0 s, 273325.3 tps, lat 2.926 ms stddev 0.564<br><span class="hljs-keyword">progress: </span>12.0 s, 279723.0 tps, lat 2.859 ms stddev 0.566<br><span class="hljs-keyword">progress: </span>15.0 s, 282950.4 tps, lat 2.827 ms stddev 0.586<br><span class="hljs-keyword">progress: </span>18.0 s, 284699.1 tps, lat 2.809 ms stddev 0.617<br><span class="hljs-keyword">progress: </span>21.0 s, 287389.0 tps, lat 2.783 ms stddev 0.609<br><span class="hljs-keyword">progress: </span>24.0 s, 289789.0 tps, lat 2.760 ms stddev 0.581<br><span class="hljs-keyword">progress: </span>27.0 s, 291848.9 tps, lat 2.740 ms stddev 0.570<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 800<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 8336477<br>latency average = 2.858 ms<br>latency stddev = 1.675 ms<br>initial connection time = 196.930 ms<br>tps = 278169.155075 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="1000客户端-7"><a href="#1000客户端-7" class="headerlink" title="1000客户端"></a>1000客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 1000 -j 100 -M prepared -T30 -p 1132 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 11.13)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 215990.5 tps, lat 4.220 ms stddev 9.191<br><span class="hljs-keyword">progress: </span>6.0 s, 249568.4 tps, lat 4.006 ms stddev 0.630<br><span class="hljs-keyword">progress: </span>9.0 s, 256655.3 tps, lat 3.896 ms stddev 0.631<br><span class="hljs-keyword">progress: </span>12.0 s, 261895.3 tps, lat 3.818 ms stddev 0.635<br><span class="hljs-keyword">progress: </span>15.0 s, 265936.1 tps, lat 3.759 ms stddev 0.634<br><span class="hljs-keyword">progress: </span>18.0 s, 268195.4 tps, lat 3.728 ms stddev 0.631<br><span class="hljs-keyword">progress: </span>21.0 s, 271153.3 tps, lat 3.687 ms stddev 0.629<br><span class="hljs-keyword">progress: </span>24.0 s, 273000.1 tps, lat 3.662 ms stddev 0.640<br><span class="hljs-keyword">progress: </span>27.0 s, 274806.7 tps, lat 3.638 ms stddev 0.628<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 1000<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 7840524<br>latency average = 3.792 ms<br>latency stddev = 2.717 ms<br>initial connection time = 241.507 ms<br>tps = 261994.117823 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="1500客户端-7"><a href="#1500客户端-7" class="headerlink" title="1500客户端"></a>1500客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 1500 -j 100 -M prepared -T30 -p 1132 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 11.13)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 193098.1 tps, lat 6.691 ms stddev 26.739<br><span class="hljs-keyword">progress: </span>6.0 s, 228336.1 tps, lat 6.569 ms stddev 0.727<br><span class="hljs-keyword">progress: </span>9.0 s, 234318.7 tps, lat 6.401 ms stddev 0.740<br><span class="hljs-keyword">progress: </span>12.0 s, 238411.3 tps, lat 6.291 ms stddev 0.765<br><span class="hljs-keyword">progress: </span>15.0 s, 241378.1 tps, lat 6.213 ms stddev 0.786<br><span class="hljs-keyword">progress: </span>18.0 s, 244225.8 tps, lat 6.141 ms stddev 0.819<br><span class="hljs-keyword">progress: </span>21.0 s, 246844.8 tps, lat 6.076 ms stddev 0.776<br><span class="hljs-keyword">progress: </span>24.0 s, 248800.6 tps, lat 6.028 ms stddev 0.777<br><span class="hljs-keyword">progress: </span>27.0 s, 250389.2 tps, lat 5.990 ms stddev 0.781<br><span class="hljs-keyword">progress: </span>30.0 s, 251899.3 tps, lat 5.954 ms stddev 0.809<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 1500<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 7133500<br>latency average = 6.220 ms<br>latency stddev = 7.660 ms<br>initial connection time = 375.254 ms<br>tps = 240221.558126 (without initial connection time)<br></code></pre></td></tr></table></figure><h2 id="simple-update-7"><a href="#simple-update-7" class="headerlink" title="simple-update"></a>simple-update</h2><h3 id="100客户端-13"><a href="#100客户端-13" class="headerlink" title="100客户端"></a>100客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$ time /opt/pg14/bin/pgbench -N -c 100 -j 100 -M prepared -t 1000000 -p 1132 -h pgdb1 -Upostgres -P 10 pgbench<br>pgbench (14.1, server 11.13)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>10.0 s, 84367.5 tps, lat 1.181 ms stddev 0.822<br><span class="hljs-keyword">progress: </span>20.0 s, 88324.5 tps, lat 1.132 ms stddev 0.648<br><span class="hljs-keyword">progress: </span>30.0 s, 88520.1 tps, lat 1.130 ms stddev 0.728<br><span class="hljs-keyword">progress: </span>40.0 s, 88691.1 tps, lat 1.127 ms stddev 0.683<br><span class="hljs-keyword">progress: </span>50.0 s, 92670.6 tps, lat 1.079 ms stddev 0.970<br><span class="hljs-keyword">progress: </span>60.0 s, 88039.3 tps, lat 1.136 ms stddev 0.666<br><span class="hljs-keyword">progress: </span>70.0 s, 86358.6 tps, lat 1.158 ms stddev 0.683<br><span class="hljs-keyword">progress: </span>80.0 s, 87506.7 tps, lat 1.143 ms stddev 0.789<br><span class="hljs-keyword">progress: </span>90.0 s, 88119.9 tps, lat 1.135 ms stddev 0.784<br><span class="hljs-keyword">progress: </span>100.0 s, 88250.8 tps, lat 1.133 ms stddev 0.686<br><span class="hljs-keyword">progress: </span>110.0 s, 97476.0 tps, lat 1.026 ms stddev 0.750<br><span class="hljs-keyword">progress: </span>120.0 s, 86795.0 tps, lat 1.152 ms stddev 0.659<br><span class="hljs-keyword">progress: </span>130.0 s, 85177.4 tps, lat 1.174 ms stddev 0.784<br><span class="hljs-keyword">progress: </span>140.0 s, 86355.9 tps, lat 1.158 ms stddev 0.681<br><span class="hljs-keyword">progress: </span>150.0 s, 86465.1 tps, lat 1.156 ms stddev 0.729<br>...<br><span class="hljs-keyword">progress: </span>880.0 s, 82250.9 tps, lat 1.216 ms stddev 0.686<br><span class="hljs-keyword">progress: </span>890.0 s, 90989.4 tps, lat 1.099 ms stddev 0.655<br><span class="hljs-keyword">progress: </span>900.0 s, 82701.9 tps, lat 1.209 ms stddev 0.594<br><span class="hljs-keyword">progress: </span>910.0 s, 81120.3 tps, lat 1.233 ms stddev 0.741<br><span class="hljs-keyword">progress: </span>920.0 s, 82796.2 tps, lat 1.208 ms stddev 0.692<br><span class="hljs-keyword">progress: </span>930.0 s, 83316.0 tps, lat 1.200 ms stddev 0.603<br><span class="hljs-keyword">progress: </span>940.0 s, 83500.6 tps, lat 1.197 ms stddev 0.605<br><span class="hljs-keyword">progress: </span>950.0 s, 97120.4 tps, lat 1.029 ms stddev 0.632<br><span class="hljs-keyword">progress: </span>960.0 s, 88201.7 tps, lat 1.133 ms stddev 0.718<br><span class="hljs-keyword">progress: </span>970.0 s, 80499.4 tps, lat 1.216 ms stddev 0.789<br><span class="hljs-keyword">progress: </span>980.0 s, 82603.7 tps, lat 1.174 ms stddev 0.582<br><span class="hljs-keyword">progress: </span>990.0 s, 82529.7 tps, lat 1.171 ms stddev 0.694<br><span class="hljs-keyword">progress: </span>1000.0 s, 82752.1 tps, lat 1.158 ms stddev 0.690<br><span class="hljs-keyword">progress: </span>1010.0 s, 89123.0 tps, lat 1.032 ms stddev 0.503<br><span class="hljs-keyword">progress: </span>1020.0 s, 80498.9 tps, lat 1.106 ms stddev 0.655<br><span class="hljs-keyword">progress: </span>1030.0 s, 79819.6 tps, lat 1.079 ms stddev 0.604<br><span class="hljs-keyword">progress: </span>1040.0 s, 80875.8 tps, lat 1.061 ms stddev 0.544<br><span class="hljs-keyword">progress: </span>1050.0 s, 79952.2 tps, lat 1.033 ms stddev 0.557<br><span class="hljs-keyword">progress: </span>1060.0 s, 79471.6 tps, lat 0.995 ms stddev 0.529<br><span class="hljs-keyword">progress: </span>1070.0 s, 91812.1 tps, lat 0.841 ms stddev 0.538<br><span class="hljs-keyword">progress: </span>1080.0 s, 79966.2 tps, lat 0.939 ms stddev 0.460<br><span class="hljs-keyword">progress: </span>1090.0 s, 76348.7 tps, lat 0.937 ms stddev 0.586<br><span class="hljs-keyword">progress: </span>1100.0 s, 77466.9 tps, lat 0.908 ms stddev 0.409<br><span class="hljs-keyword">progress: </span>1110.0 s, 75464.8 tps, lat 0.856 ms stddev 0.499<br><span class="hljs-keyword">progress: </span>1120.0 s, 73121.3 tps, lat 0.770 ms stddev 0.374<br><span class="hljs-keyword">progress: </span>1130.0 s, 74098.7 tps, lat 0.673 ms stddev 0.258<br><span class="hljs-keyword">progress: </span>1140.0 s, 68049.4 tps, lat 0.691 ms stddev 0.311<br><span class="hljs-keyword">progress: </span>1150.0 s, 66342.3 tps, lat 0.660 ms stddev 0.341<br><span class="hljs-keyword">progress: </span>1160.0 s, 62539.6 tps, lat 0.611 ms stddev 0.273<br><span class="hljs-keyword">progress: </span>1170.0 s, 53768.6 tps, lat 0.567 ms stddev 0.175<br>transaction type: &lt;builtin: simple update&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 100<br>number of threads: 100<br>number of transactions per client: 1000000<br>number of transactions actually processed: 100000000/100000000<br>latency average = 1.116 ms<br>latency stddev = 0.690 ms<br>initial connection time = 33.999 ms<br>tps = 83154.181668 (without initial connection time)<br><br>real    20m2.678s<br>user    38m55.029s<br>sys    90m23.200s<br></code></pre></td></tr></table></figure><h1 id="PG14-real-0m30-051s"><a href="#PG14-real-0m30-051s" class="headerlink" title="PG14 - real 0m30.051s"></a>PG14 - real 0m30.051s</h1><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs routeros">[root@pgdb1 /<span class="hljs-builtin-name">export</span>]# time /opt/pg14/bin/pgbench -i -s 200 -p 1432 -Upostgres pgbench<br>dropping old tables<span class="hljs-built_in">..</span>.<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_accounts&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_branches&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_history&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>NOTICE:  table <span class="hljs-string">&quot;pgbench_tellers&quot;</span> does <span class="hljs-keyword">not</span> exist, skipping<br>creating tables<span class="hljs-built_in">..</span>.<br>generating data (client-side)<span class="hljs-built_in">..</span>.<br>20000000 of 20000000 tuples (100%) done (elapsed 20.40 s, remaining 0.00 s)<br>vacuuming<span class="hljs-built_in">..</span>.<br>creating primary keys<span class="hljs-built_in">..</span>.<br>done <span class="hljs-keyword">in</span> 30.05 s (drop tables 0.00 s, create tables 0.01 s, client-side generate 20.54 s, vacuum 3.11 s, primary keys 6.39 s).<br><br>real    0m30.051s<br>user    0m6.293s<br>sys    0m0.132s<br></code></pre></td></tr></table></figure><h2 id="select-only-7"><a href="#select-only-7" class="headerlink" title="select-only"></a>select-only</h2><h3 id="100客户端-14"><a href="#100客户端-14" class="headerlink" title="100客户端"></a>100客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 100 -j 100 -M prepared -T30 -p 1432 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 14.2)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 389658.7 tps, lat 0.254 ms stddev 0.220<br><span class="hljs-keyword">progress: </span>6.0 s, 503349.0 tps, lat 0.198 ms stddev 0.060<br><span class="hljs-keyword">progress: </span>9.0 s, 524082.2 tps, lat 0.191 ms stddev 0.067<br><span class="hljs-keyword">progress: </span>12.0 s, 535682.8 tps, lat 0.186 ms stddev 0.056<br><span class="hljs-keyword">progress: </span>15.0 s, 543708.2 tps, lat 0.184 ms stddev 0.063<br><span class="hljs-keyword">progress: </span>18.0 s, 550191.7 tps, lat 0.182 ms stddev 0.055<br><span class="hljs-keyword">progress: </span>21.0 s, 554033.2 tps, lat 0.180 ms stddev 0.054<br><span class="hljs-keyword">progress: </span>24.0 s, 555789.1 tps, lat 0.180 ms stddev 0.055<br><span class="hljs-keyword">progress: </span>27.0 s, 557110.0 tps, lat 0.179 ms stddev 0.058<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 100<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 15819533<br>latency average = 0.189 ms<br>latency stddev = 0.085 ms<br>initial connection time = 32.757 ms<br>tps = 527477.522026 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="200客户端-8"><a href="#200客户端-8" class="headerlink" title="200客户端"></a>200客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 200 -j 100 -M prepared -T30 -p 1432 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 14.2)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 406353.6 tps, lat 0.482 ms stddev 0.437<br><span class="hljs-keyword">progress: </span>6.0 s, 460297.7 tps, lat 0.434 ms stddev 0.095<br><span class="hljs-keyword">progress: </span>9.0 s, 478492.9 tps, lat 0.417 ms stddev 0.105<br><span class="hljs-keyword">progress: </span>12.0 s, 493741.6 tps, lat 0.405 ms stddev 0.094<br><span class="hljs-keyword">progress: </span>15.0 s, 502919.8 tps, lat 0.397 ms stddev 0.088<br><span class="hljs-keyword">progress: </span>18.0 s, 509837.6 tps, lat 0.392 ms stddev 0.089<br><span class="hljs-keyword">progress: </span>21.0 s, 515455.2 tps, lat 0.387 ms stddev 0.093<br><span class="hljs-keyword">progress: </span>24.0 s, 520005.2 tps, lat 0.384 ms stddev 0.089<br><span class="hljs-keyword">progress: </span>27.0 s, 522980.6 tps, lat 0.382 ms stddev 0.093<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 200<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 14807067<br>latency average = 0.404 ms<br>latency stddev = 0.159 ms<br>initial connection time = 59.414 ms<br>tps = 493422.123366 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="500客户端-8"><a href="#500客户端-8" class="headerlink" title="500客户端"></a>500客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit"><br>[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 500 -j 100 -M prepared -T30 -p 1432 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 14.2)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 287625.3 tps, lat 1.653 ms stddev 2.324<br><span class="hljs-keyword">progress: </span>6.0 s, 331046.7 tps, lat 1.510 ms stddev 0.309<br><span class="hljs-keyword">progress: </span>9.0 s, 341040.7 tps, lat 1.465 ms stddev 0.329<br><span class="hljs-keyword">progress: </span>12.0 s, 346922.3 tps, lat 1.441 ms stddev 0.373<br><span class="hljs-keyword">progress: </span>15.0 s, 351781.7 tps, lat 1.421 ms stddev 0.358<br><span class="hljs-keyword">progress: </span>18.0 s, 356762.0 tps, lat 1.401 ms stddev 0.336<br><span class="hljs-keyword">progress: </span>21.0 s, 360561.7 tps, lat 1.386 ms stddev 0.336<br><span class="hljs-keyword">progress: </span>24.0 s, 362427.3 tps, lat 1.379 ms stddev 0.366<br><span class="hljs-keyword">progress: </span>27.0 s, 366199.7 tps, lat 1.365 ms stddev 0.333<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 500<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 10418720<br>latency average = 1.432 ms<br>latency stddev = 0.751 ms<br>initial connection time = 142.078 ms<br>tps = 348150.272900 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="800客户端-8"><a href="#800客户端-8" class="headerlink" title="800客户端"></a>800客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 800 -j 100 -M prepared -T30 -p 1432 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 14.2)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 241346.8 tps, lat 3.029 ms stddev 6.669<br><span class="hljs-keyword">progress: </span>6.0 s, 281524.0 tps, lat 2.841 ms stddev 0.787<br><span class="hljs-keyword">progress: </span>9.0 s, 291702.3 tps, lat 2.742 ms stddev 0.767<br><span class="hljs-keyword">progress: </span>12.0 s, 297348.6 tps, lat 2.690 ms stddev 0.771<br><span class="hljs-keyword">progress: </span>15.0 s, 301452.3 tps, lat 2.653 ms stddev 0.770<br><span class="hljs-keyword">progress: </span>18.0 s, 304699.5 tps, lat 2.625 ms stddev 0.760<br><span class="hljs-keyword">progress: </span>21.0 s, 306035.9 tps, lat 2.613 ms stddev 0.758<br><span class="hljs-keyword">progress: </span>24.0 s, 308926.1 tps, lat 2.589 ms stddev 0.753<br><span class="hljs-keyword">progress: </span>27.0 s, 310226.2 tps, lat 2.578 ms stddev 0.969<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 800<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 8868285<br>latency average = 2.682 ms<br>latency stddev = 2.055 ms<br>initial connection time = 245.111 ms<br>tps = 297048.064168 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="1000客户端-8"><a href="#1000客户端-8" class="headerlink" title="1000客户端"></a>1000客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 1000 -j 100 -M prepared -T30 -p 1432 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 14.2)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 223482.3 tps, lat 3.980 ms stddev 7.986<br><span class="hljs-keyword">progress: </span>6.0 s, 265593.4 tps, lat 3.765 ms stddev 0.921<br><span class="hljs-keyword">progress: </span>9.0 s, 275010.7 tps, lat 3.635 ms stddev 1.452<br><span class="hljs-keyword">progress: </span>12.0 s, 279505.7 tps, lat 3.577 ms stddev 0.915<br><span class="hljs-keyword">progress: </span>15.0 s, 284920.3 tps, lat 3.509 ms stddev 0.912<br><span class="hljs-keyword">progress: </span>18.0 s, 288290.2 tps, lat 3.468 ms stddev 0.906<br><span class="hljs-keyword">progress: </span>21.0 s, 291040.0 tps, lat 3.435 ms stddev 0.919<br><span class="hljs-keyword">progress: </span>24.0 s, 291798.6 tps, lat 3.426 ms stddev 0.875<br><span class="hljs-keyword">progress: </span>27.0 s, 293836.1 tps, lat 3.402 ms stddev 0.878<br><span class="hljs-keyword">progress: </span>30.0 s, 295723.1 tps, lat 3.379 ms stddev 0.870<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 1000<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 8367687<br>latency average = 3.546 ms<br>latency stddev = 2.497 ms<br>initial connection time = 310.871 ms<br>tps = 280006.656430 (without initial connection time)<br></code></pre></td></tr></table></figure><h3 id="1500客户端-8"><a href="#1500客户端-8" class="headerlink" title="1500客户端"></a>1500客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$  /opt/pg14/bin/pgbench -S -c 1500 -j 100 -M prepared -T30 -p 1432 -h pgdb1 -Upostgres  -P 3 pgbench<br>pgbench (14.1, server 14.2)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>3.0 s, 196218.9 tps, lat 6.163 ms stddev 19.309<br><span class="hljs-keyword">progress: </span>6.0 s, 246368.5 tps, lat 6.088 ms stddev 1.050<br><span class="hljs-keyword">progress: </span>9.0 s, 254223.7 tps, lat 5.900 ms stddev 1.076<br><span class="hljs-keyword">progress: </span>12.0 s, 259848.0 tps, lat 5.772 ms stddev 1.073<br><span class="hljs-keyword">progress: </span>15.0 s, 263573.4 tps, lat 5.690 ms stddev 1.124<br><span class="hljs-keyword">progress: </span>18.0 s, 266559.8 tps, lat 5.626 ms stddev 1.075<br><span class="hljs-keyword">progress: </span>21.0 s, 269794.9 tps, lat 5.559 ms stddev 1.086<br><span class="hljs-keyword">progress: </span>24.0 s, 271798.1 tps, lat 5.518 ms stddev 1.087<br><span class="hljs-keyword">progress: </span>27.0 s, 273525.0 tps, lat 5.483 ms stddev 1.035<br><span class="hljs-keyword">progress: </span>30.0 s, 275093.4 tps, lat 5.451 ms stddev 0.989<br>transaction type: &lt;builtin: select only&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 1500<br>number of threads: 100<br>duration: 30 s<br>number of transactions actually processed: 7731387<br>latency average = 5.707 ms<br>latency stddev = 5.431 ms<br>initial connection time = 549.872 ms<br>tps = 262384.017714 (without initial connection time)<br></code></pre></td></tr></table></figure><h2 id="simple-update-8"><a href="#simple-update-8" class="headerlink" title="simple-update"></a>simple-update</h2><h3 id="100客户端-15"><a href="#100客户端-15" class="headerlink" title="100客户端"></a>100客户端</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[postgres@pgdb2 ~]$ time /opt/pg14/bin/pgbench -N -c 100 -j 100 -M prepared -t 1000000 -p 1432 -h pgdb1 -Upostgres -P 10 pgbench<br>pgbench (14.1, server 14.2)<br>starting vacuum...end.<br><span class="hljs-keyword">progress: </span>10.0 s, 88584.5 tps, lat 1.125 ms stddev 0.854<br><span class="hljs-keyword">progress: </span>20.0 s, 93447.0 tps, lat 1.070 ms stddev 0.581<br><span class="hljs-keyword">progress: </span>30.0 s, 94052.7 tps, lat 1.063 ms stddev 0.649<br><span class="hljs-keyword">progress: </span>40.0 s, 94102.1 tps, lat 1.062 ms stddev 0.725<br><span class="hljs-keyword">progress: </span>50.0 s, 93599.2 tps, lat 1.068 ms stddev 0.636<br><span class="hljs-keyword">progress: </span>60.0 s, 94781.3 tps, lat 1.055 ms stddev 0.668<br><span class="hljs-keyword">progress: </span>70.0 s, 95426.9 tps, lat 1.048 ms stddev 0.577<br><span class="hljs-keyword">progress: </span>80.0 s, 95431.5 tps, lat 1.048 ms stddev 0.605<br><span class="hljs-keyword">progress: </span>90.0 s, 95279.9 tps, lat 1.049 ms stddev 0.657<br><span class="hljs-keyword">progress: </span>100.0 s, 95488.2 tps, lat 1.047 ms stddev 0.635<br><span class="hljs-keyword">progress: </span>110.0 s, 93513.4 tps, lat 1.069 ms stddev 0.747<br><span class="hljs-keyword">progress: </span>120.0 s, 95115.1 tps, lat 1.051 ms stddev 0.690<br><span class="hljs-keyword">progress: </span>130.0 s, 95543.7 tps, lat 1.046 ms stddev 0.667<br><span class="hljs-keyword">progress: </span>140.0 s, 95511.2 tps, lat 1.047 ms stddev 0.687<br><span class="hljs-keyword">progress: </span>150.0 s, 95812.2 tps, lat 1.043 ms stddev 0.601<br><span class="hljs-keyword">progress: </span>160.0 s, 95515.3 tps, lat 1.047 ms stddev 0.617<br>...<br><span class="hljs-keyword">progress: </span>730.0 s, 94480.3 tps, lat 1.058 ms stddev 0.649<br><span class="hljs-keyword">progress: </span>740.0 s, 96001.3 tps, lat 1.041 ms stddev 0.626<br><span class="hljs-keyword">progress: </span>750.0 s, 96252.4 tps, lat 1.039 ms stddev 0.642<br><span class="hljs-keyword">progress: </span>760.0 s, 95944.2 tps, lat 1.042 ms stddev 0.665<br><span class="hljs-keyword">progress: </span>770.0 s, 95070.1 tps, lat 1.052 ms stddev 0.647<br><span class="hljs-keyword">progress: </span>780.0 s, 95956.6 tps, lat 1.042 ms stddev 0.632<br><span class="hljs-keyword">progress: </span>790.0 s, 96473.9 tps, lat 1.036 ms stddev 0.732<br><span class="hljs-keyword">progress: </span>800.0 s, 96729.9 tps, lat 1.034 ms stddev 0.611<br><span class="hljs-keyword">progress: </span>810.0 s, 96716.2 tps, lat 1.034 ms stddev 0.626<br><span class="hljs-keyword">progress: </span>820.0 s, 96292.7 tps, lat 1.038 ms stddev 0.680<br><span class="hljs-keyword">progress: </span>830.0 s, 95092.5 tps, lat 1.051 ms stddev 0.724<br><span class="hljs-keyword">progress: </span>840.0 s, 96255.5 tps, lat 1.039 ms stddev 0.677<br><span class="hljs-keyword">progress: </span>850.0 s, 96490.8 tps, lat 1.036 ms stddev 0.702<br><span class="hljs-keyword">progress: </span>860.0 s, 96553.1 tps, lat 1.023 ms stddev 0.571<br><span class="hljs-keyword">progress: </span>870.0 s, 96220.4 tps, lat 1.008 ms stddev 0.632<br><span class="hljs-keyword">progress: </span>880.0 s, 96204.8 tps, lat 1.008 ms stddev 0.949<br><span class="hljs-keyword">progress: </span>890.0 s, 94397.4 tps, lat 1.027 ms stddev 0.687<br><span class="hljs-keyword">progress: </span>900.0 s, 95132.7 tps, lat 0.999 ms stddev 0.744<br><span class="hljs-keyword">progress: </span>910.0 s, 94624.5 tps, lat 0.945 ms stddev 0.518<br><span class="hljs-keyword">progress: </span>920.0 s, 93452.7 tps, lat 0.921 ms stddev 0.998<br><span class="hljs-keyword">progress: </span>930.0 s, 92157.7 tps, lat 0.877 ms stddev 0.530<br><span class="hljs-keyword">progress: </span>940.0 s, 91715.8 tps, lat 0.843 ms stddev 0.481<br><span class="hljs-keyword">progress: </span>950.0 s, 90105.1 tps, lat 0.854 ms stddev 0.576<br><span class="hljs-keyword">progress: </span>960.0 s, 89966.8 tps, lat 0.822 ms stddev 0.493<br><span class="hljs-keyword">progress: </span>970.0 s, 87529.7 tps, lat 0.764 ms stddev 0.397<br><span class="hljs-keyword">progress: </span>980.0 s, 86448.2 tps, lat 0.750 ms stddev 0.405<br><span class="hljs-keyword">progress: </span>990.0 s, 83150.1 tps, lat 0.741 ms stddev 0.462<br><span class="hljs-keyword">progress: </span>1000.0 s, 81023.9 tps, lat 0.704 ms stddev 0.440<br><span class="hljs-keyword">progress: </span>1010.0 s, 79462.1 tps, lat 0.686 ms stddev 0.396<br><span class="hljs-keyword">progress: </span>1020.0 s, 77987.6 tps, lat 0.638 ms stddev 0.312<br><span class="hljs-keyword">progress: </span>1030.0 s, 76227.5 tps, lat 0.623 ms stddev 0.401<br><span class="hljs-keyword">progress: </span>1040.0 s, 70382.8 tps, lat 0.581 ms stddev 0.235<br>transaction type: &lt;builtin: simple update&gt;<br>scaling factor: 200<br>query mode: prepared<br>number of clients: 100<br>number of threads: 100<br>number of transactions per client: 1000000<br>number of transactions actually processed: 100000000/100000000<br>latency average = 1.002 ms<br>latency stddev = 0.685 ms<br>initial connection time = 31.992 ms<br>tps = 92014.363427 (without initial connection time)<br><br>real    18m6.876s<br>user    39m43.746s<br>sys    91m32.880s<br></code></pre></td></tr></table></figure><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><h2 id="select-only-8"><a href="#select-only-8" class="headerlink" title="select-only"></a>select-only</h2><div class="table-container"><table><thead><tr><th style="text-align:left">版本 　</th><th style="text-align:right">　100</th><th style="text-align:center">200</th><th style="text-align:center">500</th><th style="text-align:center">800</th><th style="text-align:center">1000</th><th>1500</th></tr></thead><tbody><tr><td style="text-align:left">PG9.1</td><td style="text-align:right">129233.518233</td><td style="text-align:center">123595.457398</td><td style="text-align:center">100719.217118</td><td style="text-align:center">88780.508751</td><td style="text-align:center">85622.743960</td><td>78128.520303</td></tr><tr><td style="text-align:left">PG9.2</td><td style="text-align:right">205936.107926</td><td style="text-align:center">265148.616589</td><td style="text-align:center">325218.060070</td><td style="text-align:center">274250.806132</td><td style="text-align:center">257436.567155</td><td>221548.978507</td></tr><tr><td style="text-align:left">PG9.3</td><td style="text-align:right">182615.808269</td><td style="text-align:center">217670.050805</td><td style="text-align:center">321562.189907</td><td style="text-align:center">279728.171875</td><td style="text-align:center">262126.579921</td><td>235021.659428</td></tr><tr><td style="text-align:left">PG9.4</td><td style="text-align:right">472402.220782</td><td style="text-align:center">450859.183832</td><td style="text-align:center">333486.818737</td><td style="text-align:center">277646.896174</td><td style="text-align:center">261368.159691</td><td>235906.835785</td></tr><tr><td style="text-align:left">PG9.5</td><td style="text-align:right">472027.311753</td><td style="text-align:center">429253.422981</td><td style="text-align:center">323483.915030</td><td style="text-align:center">270830.496378</td><td style="text-align:center">253298.167735</td><td>230675.735480</td></tr><tr><td style="text-align:left">PG9.6</td><td style="text-align:right">496649.084018</td><td style="text-align:center">448928.383130</td><td style="text-align:center">320402.064980</td><td style="text-align:center">270013.223465</td><td style="text-align:center">254268.433441</td><td>233188.907748</td></tr><tr><td style="text-align:left">PG10</td><td style="text-align:right">487521.344991</td><td style="text-align:center">442063.014274</td><td style="text-align:center">309555.928664</td><td style="text-align:center">258793.180878</td><td style="text-align:center">245005.573478</td><td>216328.484785</td></tr><tr><td style="text-align:left">PG11</td><td style="text-align:right">516257.515245</td><td style="text-align:center">472281.037996</td><td style="text-align:center">333882.968115</td><td style="text-align:center">278169.155075</td><td style="text-align:center">261994.117823</td><td>240221.558126</td></tr><tr><td style="text-align:left">PG14</td><td style="text-align:right">527477.522026</td><td style="text-align:center">493422.123366</td><td style="text-align:center">348150.272900</td><td style="text-align:center">297048.064168</td><td style="text-align:center">280006.656430</td><td>262384.017714</td></tr><tr><td style="text-align:left">PG14 VS PG11 TPS提升百分比</td><td style="text-align:right">9.78%</td><td style="text-align:center">9.57%</td><td style="text-align:center">9.59%</td><td style="text-align:center">9.36%</td><td style="text-align:center">9.35%</td><td>9.15%</td></tr></tbody></table></div><p><img data-src="/images/PostgreSQL_不同版本性能基准测试对比.png" alt="折线图"></p><h2 id="simple-update-9"><a href="#simple-update-9" class="headerlink" title="simple-update"></a>simple-update</h2><div class="table-container"><table><thead><tr><th style="text-align:left">版本 　</th><th style="text-align:right">　初始库大小</th><th style="text-align:center">运行100W事务所需时间</th><th style="text-align:center">运行100W事务平均TPS</th><th style="text-align:center">运行100W事务后库大小</th><th>平均延时</th></tr></thead><tbody><tr><td style="text-align:left">PG9.1</td><td style="text-align:right">2997MB</td><td style="text-align:center">1h12m40s</td><td style="text-align:center">22892.048160</td><td style="text-align:center">8479 MB</td><td>4.356 ms</td></tr><tr><td style="text-align:left">PG9.2</td><td style="text-align:right">2997 MB</td><td style="text-align:center">29m36.228s</td><td style="text-align:center">56304.037342</td><td style="text-align:center">9094 MB</td><td>1.761 ms</td></tr><tr><td style="text-align:left">PG9.3</td><td style="text-align:right">2997 MB</td><td style="text-align:center">28m48.583s</td><td style="text-align:center">57856.468245</td><td style="text-align:center">8168 MB</td><td>1.710 ms</td></tr><tr><td style="text-align:left">PG9.4</td><td style="text-align:right">2997 MB</td><td style="text-align:center">29m48.904s</td><td style="text-align:center">55906.078405</td><td style="text-align:center">9256 MB</td><td>1.774 ms</td></tr><tr><td style="text-align:left">PG9.5</td><td style="text-align:right">2961 MB</td><td style="text-align:center">32m20.111s</td><td style="text-align:center">51545.741187</td><td style="text-align:center">8813 MB</td><td>1.916 ms</td></tr><tr><td style="text-align:left">PG9.6</td><td style="text-align:right">2961 MB</td><td style="text-align:center">19m55.355s</td><td style="text-align:center">83663.276826</td><td style="text-align:center">8402 MB</td><td>1.128 ms</td></tr><tr><td style="text-align:left">PG10</td><td style="text-align:right">2961 MB</td><td style="text-align:center">20m37.502s</td><td style="text-align:center">80813.978433</td><td style="text-align:center">8177 MB</td><td>1.157 ms</td></tr><tr><td style="text-align:left">PG11</td><td style="text-align:right">2962MB</td><td style="text-align:center">20m2.678s</td><td style="text-align:center">83154.181668</td><td style="text-align:center">8172 MB</td><td>1.116 ms</td></tr><tr><td style="text-align:left">PG14</td><td style="text-align:right">2963MB</td><td style="text-align:center">18m6.876s</td><td style="text-align:center">92014.363427</td><td style="text-align:center">8111 MB</td><td>1.002 ms</td></tr></tbody></table></div></builtin></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div></div></div><div class="reward-container"><div>听说，打赏我的人都找到了真爱</div><button onclick='var qr=document.getElementById("qr");qr.style.display="none"===qr.style.display?"block":"none"'>打赏</button><div id="qr" style="display:none"><div style="display:inline-block"><img src="/images/wechatpay.png" alt="daydayup 微信支付"><p>微信支付</p></div><div style="display:inline-block"><img src="/images/alipay.png" alt="daydayup 支付宝"><p>支付宝</p></div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者： </strong>daydayup</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="http://daydayup863.github.io/PostgreSQL/pgbench/PostgreSQL_%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%AC%E6%80%A7%E8%83%BD%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95%E5%AF%B9%E6%AF%94/" title="PostgreSQL 不同版本性能基准测试对比">http://daydayup863.github.io/PostgreSQL/pgbench/PostgreSQL_不同版本性能基准测试对比/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class="followme"><p>欢迎关注我的其它发布渠道</p><div class="social-list"><div class="social-item"><a target="_blank" class="social-link" href="/atom.xml"><span class="icon"><i class="fa fa-rss"></i> </span><span class="label">RSS</span></a></div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/PostgreSQL/" rel="tag"><i class="fa fa-tag"></i> PostgreSQL</a> <a href="/tags/pgbench/" rel="tag"><i class="fa fa-tag"></i> pgbench</a></div><div class="post-nav"><div class="post-nav-item"><a href="/%E9%80%BB%E8%BE%91%E5%A4%8D%E5%88%B6/PostgreSQL/logical-replication/PostgreSQL_15_preview_row_filters/" rel="prev" title="PostgreSQL 15 preview - 逻辑复制支持row filters"><i class="fa fa-chevron-left"></i> PostgreSQL 15 preview - 逻辑复制支持row filters</a></div><div class="post-nav-item"><a href="/PostgreSQL/logical-decoding/logical-replication/subscriptions/%E9%80%BB%E8%BE%91%E5%A4%8D%E5%88%B6/PostgreSQL_15_logical/" rel="next" title="PostgreSQL 15 preview - 订阅端新增选项disable_on_error控制是否重试订阅">PostgreSQL 15 preview - 订阅端新增选项disable_on_error控制是否重试订阅 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="valine-comments"></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><div><canvas id="canvas" style="width:60%">当前浏览器不支持canvas，请更换浏览器后再试</canvas></div><script>!function(){var o,a,r,f,t,i=[[[0,0,1,1,1,0,0],[0,1,1,0,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,0,1,1,0],[0,0,1,1,1,0,0]],[[0,0,0,1,1,0,0],[0,1,1,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[1,1,1,1,1,1,1]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,0,0,1,1],[1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,0,0,0,1,1,0],[0,0,0,1,1,1,0],[0,0,1,1,1,1,0],[0,1,1,0,1,1,0],[1,1,0,0,1,1,0],[1,1,1,1,1,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,1,1]],[[1,1,1,1,1,1,1],[1,1,0,0,0,0,0],[1,1,0,0,0,0,0],[1,1,1,1,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,0,0,0,1,1,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[1,1,1,1,1,1,1],[1,1,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,1,1,0,0,0,0]],[[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0]]],e=document.getElementById("canvas");function h(t,e){for(var n=[1,2,3],l=["#3BE","#09C","#A6C","#93C","#9C0","#690","#FB3","#F80","#F44","#C00"],o=0;o<i[e].length;o++)for(var a,h=0;h<i[e][o].length;h++){1==i[e][o][h]&&(a={x:14*(f+2)*t+2*h*(f+1)+(f+1),y:2*o*(f+1)+(f+1),stepX:Math.floor(4*Math.random()-2),stepY:-2*n[Math.floor(Math.random()*n.length)],color:l[Math.floor(Math.random()*l.length)],disY:1},r.push(a))}}function n(){e.height=100;for(var t=0;t<a.length;t++)!function(t,e){for(var n=0;n<i[e].length;n++)for(var l=0;l<i[e][n].length;l++)1==i[e][n][l]&&(o.beginPath(),o.arc(14*(f+2)*t+2*l*(f+1)+(f+1),2*n*(f+1)+(f+1),f,0,2*Math.PI),o.closePath(),o.fill())}(t,a[t]);for(t=0;t<r.length;t++)o.beginPath(),o.arc(r[t].x,r[t].y,f,0,2*Math.PI),o.fillStyle=r[t].color,o.closePath(),o.fill()}e.getContext&&(o=e.getContext("2d"),e.height=100,e.width=700,o.fillStyle="#f00",o.fillRect(10,10,50,50),a=[],r=[],f=e.height/20-1,t=/(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date),a.push(t[1],t[2],10,t[3],t[4],10,t[5],t[6]),clearInterval(void 0),setInterval(function(){!function(){var t=[],e=/(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date),n=[];n.push(e[1],e[2],10,e[3],e[4],10,e[5],e[6]);for(var l=a.length-1;0<=l;l--)n[l]!==a[l]&&t.push(l+"_"+(Number(a[l])+1)%10);for(l=0;l<t.length;l++)h.apply(this,t[l].split("_"));a=n.concat()}(),function(){for(var t=0;t<r.length;t++)r[t].stepY+=r[t].disY,r[t].x+=r[t].stepX,r[t].y+=r[t].stepY,(r[t].x>700+f||r[t].y>100+f)&&(r.splice(t,1),t--)}(),n()},50))}()</script><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div id="toc-div"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%BB%E8%A6%81%E5%8F%82%E6%95%B0"><span class="nav-number">1.</span> <span class="nav-text">主要参数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-number">2.</span> <span class="nav-text">初始化</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#PG91-real-0m59-850s"><span class="nav-number">2.1.</span> <span class="nav-text">PG91 - real 0m59.850s</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#select-only"><span class="nav-number">2.2.</span> <span class="nav-text">select-only</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-number">2.2.1.</span> <span class="nav-text">100客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#200%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-number">2.2.2.</span> <span class="nav-text">200客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#500%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-number">2.2.3.</span> <span class="nav-text">500客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#800%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-number">2.2.4.</span> <span class="nav-text">800客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1000%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-number">2.2.5.</span> <span class="nav-text">1000客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1500%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-number">2.2.6.</span> <span class="nav-text">1500客户端</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#simple-update"><span class="nav-number">2.3.</span> <span class="nav-text">simple-update</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PG92-real-0m48-641s"><span class="nav-number">3.</span> <span class="nav-text">PG92 - real 0m48.641s</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#select-only-1"><span class="nav-number">3.1.</span> <span class="nav-text">select-only</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100%E5%AE%A2%E6%88%B7%E7%AB%AF-1"><span class="nav-number">3.1.1.</span> <span class="nav-text">100客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#200%E5%AE%A2%E6%88%B7%E7%AB%AF-1"><span class="nav-number">3.1.2.</span> <span class="nav-text">200客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#500%E5%AE%A2%E6%88%B7%E7%AB%AF-1"><span class="nav-number">3.1.3.</span> <span class="nav-text">500客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#800%E5%AE%A2%E6%88%B7%E7%AB%AF-1"><span class="nav-number">3.1.4.</span> <span class="nav-text">800客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1000%E5%AE%A2%E6%88%B7%E7%AB%AF-1"><span class="nav-number">3.1.5.</span> <span class="nav-text">1000客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1500%E5%AE%A2%E6%88%B7%E7%AB%AF-1"><span class="nav-number">3.1.6.</span> <span class="nav-text">1500客户端</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#simple-update-1"><span class="nav-number">3.2.</span> <span class="nav-text">simple-update</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100%E5%AE%A2%E6%88%B7%E7%AB%AF-2"><span class="nav-number">3.2.1.</span> <span class="nav-text">100客户端</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PG93-real-0m49-263s"><span class="nav-number">4.</span> <span class="nav-text">PG93 - real 0m49.263s</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#select-only-2"><span class="nav-number">4.1.</span> <span class="nav-text">select-only</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100%E5%AE%A2%E6%88%B7%E7%AB%AF-3"><span class="nav-number">4.1.1.</span> <span class="nav-text">100客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#200%E5%AE%A2%E6%88%B7%E7%AB%AF-2"><span class="nav-number">4.1.2.</span> <span class="nav-text">200客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#500%E5%AE%A2%E6%88%B7%E7%AB%AF-2"><span class="nav-number">4.1.3.</span> <span class="nav-text">500客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#800%E5%AE%A2%E6%88%B7%E7%AB%AF-2"><span class="nav-number">4.1.4.</span> <span class="nav-text">800客户端</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1000%E5%AE%A2%E6%88%B7%E7%AB%AF-2"><span class="nav-number">4.2.</span> <span class="nav-text">1000客户端:</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1500%E5%AE%A2%E6%88%B7%E7%AB%AF-2"><span class="nav-number">4.2.1.</span> <span class="nav-text">1500客户端</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#simple-update-2"><span class="nav-number">4.3.</span> <span class="nav-text">simple-update</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100%E5%AE%A2%E6%88%B7%E7%AB%AF-4"><span class="nav-number">4.3.1.</span> <span class="nav-text">100客户端</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PG94-real-0m51-842s"><span class="nav-number">5.</span> <span class="nav-text">PG94 - real 0m51.842s</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#200%E5%AE%A2%E6%88%B7%E7%AB%AF-3"><span class="nav-number">5.0.1.</span> <span class="nav-text">200客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#500%E5%AE%A2%E6%88%B7%E7%AB%AF-3"><span class="nav-number">5.0.2.</span> <span class="nav-text">500客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#800%E5%AE%A2%E6%88%B7%E7%AB%AF-3"><span class="nav-number">5.0.3.</span> <span class="nav-text">800客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1000%E5%AE%A2%E6%88%B7%E7%AB%AF-3"><span class="nav-number">5.0.4.</span> <span class="nav-text">1000客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1500%E5%AE%A2%E6%88%B7%E7%AB%AF-3"><span class="nav-number">5.0.5.</span> <span class="nav-text">1500客户端</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#simple-update-3"><span class="nav-number">5.1.</span> <span class="nav-text">simple-update</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100%E5%AE%A2%E6%88%B7%E7%AB%AF-5"><span class="nav-number">5.1.1.</span> <span class="nav-text">100客户端</span></a></li></ol></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#PG95-real-0m49-176s"><span class="nav-number">6.</span> <span class="nav-text">PG95 - real 0m49.176s</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#select-only-3"><span class="nav-number">6.1.</span> <span class="nav-text">select-only</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100%E5%AE%A2%E6%88%B7%E7%AB%AF-6"><span class="nav-number">6.1.1.</span> <span class="nav-text">100客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#200%E5%AE%A2%E6%88%B7%E7%AB%AF-4"><span class="nav-number">6.1.2.</span> <span class="nav-text">200客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#500%E5%AE%A2%E6%88%B7%E7%AB%AF-4"><span class="nav-number">6.1.3.</span> <span class="nav-text">500客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#800%E5%AE%A2%E6%88%B7%E7%AB%AF-4"><span class="nav-number">6.1.4.</span> <span class="nav-text">800客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1000%E5%AE%A2%E6%88%B7%E7%AB%AF-4"><span class="nav-number">6.1.5.</span> <span class="nav-text">1000客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1500%E5%AE%A2%E6%88%B7%E7%AB%AF-4"><span class="nav-number">6.1.6.</span> <span class="nav-text">1500客户端</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#simple-update-4"><span class="nav-number">6.2.</span> <span class="nav-text">simple-update</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100%E5%AE%A2%E6%88%B7%E7%AB%AF-7"><span class="nav-number">6.2.1.</span> <span class="nav-text">100客户端</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PG96-real-0m47-363s"><span class="nav-number">7.</span> <span class="nav-text">PG96 - real 0m47.363s</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#select-only-4"><span class="nav-number">7.1.</span> <span class="nav-text">select-only</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100%E5%AE%A2%E6%88%B7%E7%AB%AF-8"><span class="nav-number">7.1.1.</span> <span class="nav-text">100客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#200%E5%AE%A2%E6%88%B7%E7%AB%AF-5"><span class="nav-number">7.1.2.</span> <span class="nav-text">200客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#500%E5%AE%A2%E6%88%B7%E7%AB%AF-5"><span class="nav-number">7.1.3.</span> <span class="nav-text">500客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#800%E5%AE%A2%E6%88%B7%E7%AB%AF-5"><span class="nav-number">7.1.4.</span> <span class="nav-text">800客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1000%E5%AE%A2%E6%88%B7%E7%AB%AF-5"><span class="nav-number">7.1.5.</span> <span class="nav-text">1000客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1500%E5%AE%A2%E6%88%B7%E7%AB%AF-5"><span class="nav-number">7.1.6.</span> <span class="nav-text">1500客户端</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#simple-update-5"><span class="nav-number">7.2.</span> <span class="nav-text">simple-update</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100%E5%AE%A2%E6%88%B7%E7%AB%AF-9"><span class="nav-number">7.2.1.</span> <span class="nav-text">100客户端</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PG10-real-0m32-627s"><span class="nav-number">8.</span> <span class="nav-text">PG10 - real 0m32.627s</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#select-only-5"><span class="nav-number">8.1.</span> <span class="nav-text">select-only</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100%E5%AE%A2%E6%88%B7%E7%AB%AF-10"><span class="nav-number">8.1.1.</span> <span class="nav-text">100客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#200%E5%AE%A2%E6%88%B7%E7%AB%AF-6"><span class="nav-number">8.1.2.</span> <span class="nav-text">200客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#500%E5%AE%A2%E6%88%B7%E7%AB%AF-6"><span class="nav-number">8.1.3.</span> <span class="nav-text">500客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#800%E5%AE%A2%E6%88%B7%E7%AB%AF-6"><span class="nav-number">8.1.4.</span> <span class="nav-text">800客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1000%E5%AE%A2%E6%88%B7%E7%AB%AF-6"><span class="nav-number">8.1.5.</span> <span class="nav-text">1000客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1500%E5%AE%A2%E6%88%B7%E7%AB%AF-6"><span class="nav-number">8.1.6.</span> <span class="nav-text">1500客户端</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#simple-update-6"><span class="nav-number">8.2.</span> <span class="nav-text">simple-update</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100%E5%AE%A2%E6%88%B7%E7%AB%AF-11"><span class="nav-number">8.2.1.</span> <span class="nav-text">100客户端</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PG11-real-0m32-118s"><span class="nav-number">9.</span> <span class="nav-text">PG11 - real 0m32.118s</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#select-only-6"><span class="nav-number">9.1.</span> <span class="nav-text">select-only</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100%E5%AE%A2%E6%88%B7%E7%AB%AF-12"><span class="nav-number">9.1.1.</span> <span class="nav-text">100客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#200%E5%AE%A2%E6%88%B7%E7%AB%AF-7"><span class="nav-number">9.1.2.</span> <span class="nav-text">200客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#500%E5%AE%A2%E6%88%B7%E7%AB%AF-7"><span class="nav-number">9.1.3.</span> <span class="nav-text">500客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#800%E5%AE%A2%E6%88%B7%E7%AB%AF-7"><span class="nav-number">9.1.4.</span> <span class="nav-text">800客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1000%E5%AE%A2%E6%88%B7%E7%AB%AF-7"><span class="nav-number">9.1.5.</span> <span class="nav-text">1000客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1500%E5%AE%A2%E6%88%B7%E7%AB%AF-7"><span class="nav-number">9.1.6.</span> <span class="nav-text">1500客户端</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#simple-update-7"><span class="nav-number">9.2.</span> <span class="nav-text">simple-update</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100%E5%AE%A2%E6%88%B7%E7%AB%AF-13"><span class="nav-number">9.2.1.</span> <span class="nav-text">100客户端</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PG14-real-0m30-051s"><span class="nav-number">10.</span> <span class="nav-text">PG14 - real 0m30.051s</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#select-only-7"><span class="nav-number">10.1.</span> <span class="nav-text">select-only</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100%E5%AE%A2%E6%88%B7%E7%AB%AF-14"><span class="nav-number">10.1.1.</span> <span class="nav-text">100客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#200%E5%AE%A2%E6%88%B7%E7%AB%AF-8"><span class="nav-number">10.1.2.</span> <span class="nav-text">200客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#500%E5%AE%A2%E6%88%B7%E7%AB%AF-8"><span class="nav-number">10.1.3.</span> <span class="nav-text">500客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#800%E5%AE%A2%E6%88%B7%E7%AB%AF-8"><span class="nav-number">10.1.4.</span> <span class="nav-text">800客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1000%E5%AE%A2%E6%88%B7%E7%AB%AF-8"><span class="nav-number">10.1.5.</span> <span class="nav-text">1000客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1500%E5%AE%A2%E6%88%B7%E7%AB%AF-8"><span class="nav-number">10.1.6.</span> <span class="nav-text">1500客户端</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#simple-update-8"><span class="nav-number">10.2.</span> <span class="nav-text">simple-update</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100%E5%AE%A2%E6%88%B7%E7%AB%AF-15"><span class="nav-number">10.2.1.</span> <span class="nav-text">100客户端</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">11.</span> <span class="nav-text">总结</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#select-only-8"><span class="nav-number">11.1.</span> <span class="nav-text">select-only</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#simple-update-9"><span class="nav-number">11.2.</span> <span class="nav-text">simple-update</span></a></li></ol></li></div></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/"><img class="site-author-image" itemprop="image" alt="daydayup" src="/images/user.jpg"></a><p class="site-author-name" itemprop="name">daydayup</p><div class="site-description" itemprop="description">good good study, day day up.</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">63</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">64</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">87</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/daydayup863" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;daydayup863" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a></span></div><div class="cc-license motion-element" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a></div><div class="links-of-blogroll motion-element"><div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i> 大神链接</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="https://github.com/digoal/blog" title="https:&#x2F;&#x2F;github.com&#x2F;digoal&#x2F;blog" rel="noopener" target="_blank">德哥</a></li><li class="links-of-blogroll-item"><a href="https://postgres.fun/" title="https:&#x2F;&#x2F;postgres.fun" rel="noopener" target="_blank">francs</a></li><li class="links-of-blogroll-item"><a href="https://pengzhanyuan.github.io/" title="https:&#x2F;&#x2F;pengzhanyuan.github.io&#x2F;" rel="noopener" target="_blank">元叔</a></li><li class="links-of-blogroll-item"><a href="https://www.citusdata.com/blog/tags/performance/" title="https:&#x2F;&#x2F;www.citusdata.com&#x2F;blog&#x2F;tags&#x2F;performance&#x2F;" rel="noopener" target="_blank">citus博客</a></li></ul></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2022</span> <span class="with-love" id="heart"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">daydayup</span></div><div class="powered-by"><i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv"> 本站访客数:<span id="busuanzi_value_site_uv"></span></span></div><br><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动</div><br><div class="theme-info"><div class="powered-by"></div><span class="post-count">博客全站共78.1k字</span></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/local-search.js"></script><script src="/js/cursor/cherry.js"></script><div id="needsharebutton-float"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.js"></script><script>flOptions={iconStyle:"default",boxForm:"horizontal",position:"middleRight",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-float",flOptions)</script><script>NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : '3i88YSkCct0TI3n9fK42pDqp-gzGzoHsz',
      appKey     : 'HAU6P1j8dEW9P7oMKHQsS0Ub',
      placeholder: "在这里说点什么吧...",
      avatar     : 'wavatar',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});</script><script type="text/javascript" src="/js/love.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,log:!1,model:{jsonPath:"/live2dw/assets/haruto.model.json"},display:{position:"right",width:150,height:300},mobile:{show:!0}})</script></body></html>